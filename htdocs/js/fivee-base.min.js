/*! ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee-base
 * ver.2.0.0 / 2016.11.23
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ !*/
!function(s){function e(){var e=0,t=0;return p.each(function(){e+=s(this).outerHeight(!0),t++}),e}function t(e,t){return C=s(e).attr("class"),C=C.split(" "),C=s.grep(C,function(s,e){return s.indexOf(t)>=0}),j="."+C}function a(s){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("iphone")>-1,a=e.indexOf("ipad")>-1,i=e.indexOf("android")>-1&&e.indexOf("mobile")>-1,o=e.indexOf("android")>-1&&e.indexOf("mobile")==-1;return t&&(s="iphone"),a&&(s="ipad"),i&&(s="android"),o&&(s="androidTablet"),s}function i(s){return!s.match(/[^A-Za-z0-9]+/)}function o(e){V.push(e),I!==!1&&clearTimeout(I),I=setTimeout(function(){var e=V[V.length-1];return"off"===e&&(Q.hide(G,function(){s(this).removeClass("is-show"),B.css({top:0,left:0,marginTop:""})}),void(V=[]))},0)}function n(e){V.push(e),I!==!1&&clearTimeout(I),I=setTimeout(function(){var e=V[V.length-1];return"off"===e&&(Q.hide(G,function(){s(this).removeClass("is-show"),B.css({top:0,left:0,marginTop:""})}),void(V=[]))},J)}function r(e){var t=e.offset(),a=s(window).outerWidth(!0),i=t.top,o=t.left,n=e.find(".js-tooltip-key").text();Z.text("").text(n),Q.show();var r=Z.outerWidth(!0),l=Z.outerHeight(!0),c=r+o,d=c-a;E.css("margin-left",""),a<c&&(o-=d,E.css("margin-left",d)),B.css({top:i-l-7,left:o}),Q.addClass("is-show")}function l(){return ae=de.offset(),ie=s(document).outerHeight()-ae.top}function c(){oe=s(document).outerHeight(),ne=window.innerHeight,re=oe-ne,te=re-s(window).scrollTop(),de.length?(ie=l(),d()):h()}function d(){te=re-s(window).scrollTop(),ie>=te&&(te=ie),ce.stop().animate({bottom:te},le)}function h(){te=re-s(window).scrollTop(),ce.stop().animate({bottom:te},le)}function f(){ve.each(function(){var e=s(this).text();je<e&&s(this).animate({count:e},{duration:Ce,easing:"linear",progress:function(){s(this).text(Math.ceil(this.count))},queue:!1})})}function u(){return De.removeClass("is-open").delay(500).queue(function(){s(this).removeClass("is-transition").dequeue()}),Me.removeClass("is-behind").delay(500).queue(function(){s(this).removeClass("is-transition").dequeue()}),Re=0}var p=s(".js-posi-remove");p.length?fixContentsRemoveVal=e():fixContentsRemoveVal=0;var m,v,j,C,g;s(window).scroll(function(){var e=s(document).scrollTop(),t=s(".js-scrolltop");e>600?t.fadeIn(600):t.fadeOut(400)}),s("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=s(this.hash);e=e.length?e:s("[name="+this.hash.slice(1)+"]");var t=e.offset();if(e.length)return s("html,body").animate({scrollTop:t.top-fixContentsRemoveVal},1e3),!1}}),s("#js-pageTop").on("click",function(){s("html,body").animate({scrollTop:0},1e3)});var b=s("#js-eql");if(b.length){var w=s(".js-eql-width"),k=s(".js-eql-height");if(w.length){var x=[];if(w){s(w).each(function(e){var t=s(w).eq(e).outerWidth(!0);x.push(t)});var y=Math.max.apply(null,x);s(w).width(y)}}if(k.length){var T=[];if(k){s(k).each(function(e){var t=s(k).eq(e).outerHeight(!0);T.push(t)});var y=Math.max.apply(null,T);s(k).height(y)}}}s(".js-nav-main a").on("click",function(){var e=s(this).parents(".js-nav-main"),a=s(this).parent("li"),i=a.attr("class");if(i){var o=i.match("parent");if(o){m=a,v="js-nav-main-parent",j=t(m,v),j=j.replace("parent","child");var n=s(this).find(".js-ic-arrow").children(),r=s(this).find(".js-ic-folder").children(),l=s(this).find(".js-ic-folder-arrow").children(),c=n.attr("class"),d=r.attr("class"),h=l.attr("class"),f=e.find(j).is(":visible");f?(e.find(j).hide(100),a.removeClass("is-open"),c&&(c=c.replace("up","down"),s(n).removeClass().addClass(c)),d&&(d=d.replace("folder-open","folder"),s(r).removeClass().addClass(d)),h&&(h=h.replace("down","right"),s(l).removeClass().addClass(h))):(e.find(j).show(300),a.addClass("is-open"),c&&(c=c.replace("down","up"),s(n).removeClass().addClass(c)),d&&(d=d.replace("folder","folder-open"),s(r).removeClass().addClass(d)),h&&(h=h.replace("right","down"),s(l).removeClass().addClass(h)))}}else e.find("li").removeClass("is-current"),a.addClass("is-current")});var q=s(".js-nav-main");if(q.length){var S=s(".js-nav-main .is-current").parents("ul");S.parent("li").addClass("is-open");var W=S.attr("class");if(W){var O=W.match("child");if(O){S.show(100);var H=S.parents("li"),L=H.find(".js-ic-arrow").children(),P=H.find(".js-ic-folder").children(),A=H.find(".js-ic-folder-arrow").children(),R=L.attr("class"),D=P.attr("class"),z=A.attr("class");R&&(R=R.replace("down","up"),s(L).removeClass().addClass(R)),D&&(D=D.replace("folder","folder-open"),s(P).removeClass().addClass(D)),z&&(z=z.replace("right","down"),s(A).removeClass().addClass(z))}}}var M,N,U="off",V=[],I=!1,Q=s(".js-tooltip"),Z=s(".js-tooltip-wrap"),B=s(".js-tooltip > .st-body"),E=s(".js-balloon"),F=".js-tooltip-hover",G=300,J=500;g=a(g),"iphone"===g||"ipad"===g?s(F).on("click",function(){N=s(this).hasClass("is-on"),N?(U="off",o(U),s(F).removeClass("is-on")):(M=s(this),r(M),U="on",o(U),s(F).removeClass("is-on"),s(this).addClass("is-on"))}):(s(".js-tooltip-hover").on({mouseenter:function(){M=s(this),r(M),U="on",n(U)},mouseleave:function(){U="off",n(U)}}),Q.on({mouseenter:function(){U="on",n(U)},mouseleave:function(){U="off",n(U)}}));var K,X,Y,$,_,ss,es,ts,as,is,os,ns=0,rs=".js-popup-open",ls=".js-popup-close",cs="body > *",ds=".js-popup-open, .js-popup, .js-bookmark-open",hs=".js-popup",fs=".js-popup-arrow",us="is-on",ps="is-fixed",ms=0,vs=7,js=20;s(rs).on("click",function(){K=s(this),K.hasClass(us)?s(hs).hide(function(){s(rs+"."+us).removeClass(us)}):(s(rs+"."+us).removeClass(us),K.addClass(us),v="js-tpl",os=K.hasClass(ps),Cs.popupPosi(K,v))});var Cs={popupPosi:function(e,a){X=s(window).outerWidth(!0),Y=e.offset(),$=Y.top,$=$+e.outerHeight(!0)+7,_=e.outerWidth(!0),ss=Y.left,m=e,a=a,j=t(m,a),Cs.popupShow($,ss,j)},popupShow:function(e,t,a){s(hs+" > .st-body").removeClass("is-current"),s(hs+" > .st-body"+a).addClass("is-current"),s(hs).css({opacity:"0",display:"block"}),as=s(hs+" > .st-body"+a).outerWidth(!0),is=t+as,ts=_/2,_>as&&(ts=js),X<=is&&(es=is-X+vs,t-=es,ts+=es),t<vs&&(t=vs),ts<js&&(ts=js),os?(e-=s(window).scrollTop(),t+=s(window).scrollLeft(),s(hs+" > .st-body"+a).css({position:"",top:" ",left:"",right:"",marginTop:""}).css({position:"fixed",top:e,bottom:"auto",right:"auto",left:t}).addClass(ps)):s(hs+" > .st-body"+a).css({position:"",top:"",left:"",right:"",marginTop:""}).css({top:e,bottom:"auto",right:"auto",left:t}).removeClass(ps),s(fs).css("left","").css("left",ts),s(hs).fadeTo(ms,1,function(){ns++,1===ns&&s(cs).on("click",function(e){var t=s(e.target).closest(ds).length;t||(s(hs).hide(),s(rs+"."+us).removeClass(us),ns=0,s(this).off())})})}};s(ls).on("click",function(){s(hs).hide(function(){s(rs+"."+us).removeClass(us)})});var gs,K,bs=s(".js-bookmark-open"),ws=s(".js-bookmark-delete");bs.on("click",function(){gs=s(this).children("i"),K=s(this),K.hasClass(us)&&(v="js-tpl",Cs.popupPosi(K,v)),gs.removeClass("fa-star-o").addClass("fa-star"),K.addClass(us),ws.on("click",function(){gs.removeClass("fa-star").addClass("fa-star-o"),K.removeClass(us)})}),s(".js-modal-open").on("click",function(){m=s(this),v="js-tpl",j=t(m,v);var e=s(".js-modal"),a=s(".js-modal > .st-body"+j);s(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),a.addClass("is-current");var i=a.outerWidth()/2;a.css("margin-left",-i),e.show(),s(".js-cartain").show(),s(".js-modal-close, .js-cartain").on("click",function(){e.hide(),s(".js-cartain").hide()})}),s(".js-message-open").on("click",function(){m=s(this),v="js-tpl",j=t(m,v),s(".js-message > .st-body").removeClass("is-open"),s(".js-message > .st-body"+j).addClass("is-open")}),s(".js-message-close").on("click",function(){s(".js-message > .st-body").removeClass("is-open")});var ks,xs=".js-toast",ys=".js-toast-open",Ts=".js-toast-centered",qs=".js-toast-centered-open",Ss=700,Ws=4e3;s(ys).on("click",function(){m=s(this),v="js-tpl",j=t(m,v),clearTimeout(ks),s(xs+" > .st-body").hide();var e=s(xs+" > .st-body"+j).css("margin-left","").show().outerWidth(!0)/2;s(xs+" > .st-body"+j).css("margin-left",-e),ks=setTimeout(function(){s(xs+" > .st-body"+j).fadeOut(Ss)},Ws),s(".js-toast-close").on("click",function(){s(xs+" > .st-body"+j).hide(),clearTimeout(ks)})}),s(qs).on("click",function(){m=s(this),v="js-tpl",j=t(m,v),clearTimeout(ks),s(Ts+" > .st-body").hide();var e=s(Ts+" > .st-body"+j).css("margin-top","").show().outerHeight()/2;s(Ts+" > .st-body"+j).css("margin-top",-e),s(".js-cartain").show(),ks=setTimeout(function(){s(Ts+" > .st-body"+j).fadeOut(Ss),s(".js-cartain").fadeOut(Ss)},Ws),s(".js-toast-close, .js-cartain").on("click",function(){s(Ts+" > .st-body"+j).hide(),s(".js-cartain").fadeOut(Ss),clearTimeout(ks)})}),s(".js-loader-on").on("click",function(){s(".js-loader").show()}),s(".js-loader-off").on("click",function(){s(".js-loader").hide()}),s(".js-loader-abs-on").on("click",function(){var e=s(this).offset(),t=e.top,a=e.left;s(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:t,left:a}),s(".js-loader-abs").show()}),s(".js-loader-abs-off").on("click",function(){s(".js-loader-abs").hide()}),s(".js-collapse").on("click",function(){m=s(this),v="js-collapse-parent",j=t(m,v),j=j.replace("js-collapse-parent","js-collapse-child"),s(j).slideToggle();var e=s(this).children(),a=e.attr("class");if(a.match("down"))a=a.replace("down","up"),e.removeClass().addClass(a);else{if(!a.match("up"))return!1;a=a.replace("up","down"),e.removeClass().addClass(a)}}),s(".js-collapse-slide").on("click",function(){m=s(this),v="js-collapse-slide-parent",j=t(m,v),j=j.replace("js-collapse-slide-parent","js-collapse-slide-child"),s(j).stop().animate({width:"toggle"},300);var e=s(this).children(),a=e.attr("class");if(a.match("left"))a=a.replace("left","right"),e.removeClass().addClass(a);else{if(!a.match("right"))return!1;a=a.replace("right","left"),e.removeClass().addClass(a)}}),s(".js-tab-select > li").on("click",function(){var e=s(this).parents(".js-tab"),t=s(e).find(".js-tab-select").children("li"),a=s(e).find(".js-tab-content").children("li");t.removeClass("is-current"),s(this).addClass("is-current");var i=s(this).index();a.removeClass("is-current"),a.eq(i).addClass("is-current")}),s(".js-tab-scroll-select > li").on("click",function(){var e=s(this).parents(".js-tab-scroll"),t=s(e).find(".js-tab-scroll-select").children("li"),a=s(e).find(".js-tab-scroll-content").children("li");t.removeClass("is-current"),s(this).addClass("is-current");var i=s(this).index();a.removeClass("is-current"),a.eq(i).addClass("is-current")});var Os=s(".js-tab-scroll"),Hs=Os.length,Ls=s(".js-tab-scroll-select"),Ps=s(".js-tab-scroll-select > li:visible"),As="is-disabled",Rs=s(".js-tab-arrow-right"),Ds=s(".js-tab-arrow-right"),zs=s(".js-tab-arrow-left"),Ms=s(".js-tab-arrow-left"),Ns=400,Us=74,Vs=!1,Is=!1,Qs=!1,Zs={tabSetStart:function(){var s=Os.outerWidth(!0),e=s-Us;Ls.width(Zs.tabWidthSum());var t=Zs.tabWidthSum();return e<t?(Bs=t-e,Ds.removeClass(As),Bs):(Ds.addClass(As),Ms.addClass(As),Bs=0)},tabSetReset:function(){Ls.animate({left:0},0,function(){Bs=Zs.tabSetStart(),Vs=!0,Ms.addClass(As)})},tabWidthSum:function(){var e=Ps.length,t=0,a=0;return Ps.each(function(){t+=s(this).outerWidth(!0),a++,a===e&&(t+=7)}),t}};if(Hs){var Bs=Zs.tabSetStart(),Es=!1;s(window).resize(function(){Es||clearTimeout(Es),Es=setTimeout(function(){Zs.tabSetReset()},40)}),Rs.on("click",function(){if(Is)return!1;Is=!0;var s=-Bs,e=Ls.position();return e=e.left,e===s?(Is=!1,!1):(Ms.removeClass(As),e-=Ns,Vs===!0&&(e=-Ns,Vs=!1),e<s&&(moveDiff=e-s,e-=moveDiff),void Ls.animate({left:e},400,function(){Is=!1,e===s&&Ds.addClass(As)}))}),zs.on("click",function(){if(Qs)return!1;Qs=!0;var s=0,e=Ls.position();return e=e.left,e===s?(Qs=!1,!1):(Ds.removeClass(As),e+=Ns,Vs===!0&&(e=Ns,Vs=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void Ls.animate({left:e},400,function(){Qs=!1,e===s&&Ms.addClass(As)}))})}s(".js-select-tr tr").on("click",function(){s(this).toggleClass("is-select")}),s(".js-col a").on("click",function(){var e=s(this).parents("li").index();s(".js-col-on colgroup col").removeClass("is-focus"),s(".js-col-on colgroup col").eq(e).addClass("is-focus")}),s(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var e="js-sameclass-num",a=s(this).attr("class");a&&a.match(e)&&(m=s(this),v=e,t(m,v),s(j).addClass("is-focus"))},mouseleave:function(){s(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),s(".js-check input").on("change",function(){var e=s(this).attr("class");if(e){var a=e.match("parent"),i=e.match("child");if(a){var o=s(this),n="js-check-parent-num",r=t(o,n);r=r.replace("parent","child");var l=s(this).prop("checked");l?s(r).prop("checked",!0):s(r).prop("checked",!1),Fs.trHightLight(r)}if(i){var o=s(this),n="js-check-child-num",r=t(o,n);Fs.trHightLight(r)}}});var Fs={trHightLight:function(e){s("input"+e).parents("tr").removeClass("is-highlight"),s("input"+e+":checked").parents("tr").addClass("is-highlight")}},Gs=[],Js=[];s(".js-html-show").on("click",function(){m=s(this),v="js-example-num",j=t(m,v);var e="../doc/"+j.replace(".js-example-num","")+".txt",a=j.slice(0,23).replace(".js-example-num",".js-example-tag-num"),i=s.inArray(j,Gs),o=Gs[Gs.length-1],n=Js[Js.length-1];s.ajax({url:e,dataType:"text",success:function(e){var t=e.replace(/\r\n/g,"\n");i===-1?(s(a+" textarea").text("").text(t),s(a).show(300),Gs=[],Gs.push(j)):j!==o?(s(a+" textarea").text("").text(t),Gs.push(j)):(s(a).hide(300),Gs=[]),a!==n&&(s(n).hide(300),Js=[],Js.push(a))}})}),s(".js-nav-block a").on("click",function(){var e=s(this).parents(".js-nav-block");m=e,v="js-nav-block-select";var a=t(m,v);a=a.replace("select","content");var i=s(this).parent("li");e.find("li").removeClass("is-current"),i.addClass("is-current");var o=i.attr("class");if(o){var n=o.match("parent");n&&(m=i,v="js-nav-block-parent",j=t(m,v),j=j.replace("parent","child"),s(a).find("ul:eq(0)").children("li").hide(),s(a).find(j).fadeToggle())}});var Ks,Xs,Ys,$s,_s=".js-pagination",se=_s+" li";s(se+" a").on("click",function(){m=s(this).parents(_s),v="js-grp",j=t(m,v),$s=j,Ks=s(this).parents("li").hasClass("js-notouch"),Ks||(s($s+se).removeClass("is-current"),Xs=s(this).parent("li"),Ys=Xs.index(),s(_s+$s).each(function(){s(this).find("li").eq(Ys).addClass("is-current")}))});var ee=s("#js-promo-footer");if(ee.length){var te,ae,ie,oe,ne,re,Es,ie,le=300,ce=s("#js-promo-footer > .st-body"),de=s(".js-page-footer");Es=!1,s(window).resize(function(){Es||clearTimeout(Es),Es=setTimeout(function(){c()},40)}),de.length?s(window).scroll(function(){ie=l(),d()}):s(window).scroll(function(){h()}),c()}var he,fe,ue=s(".js-remover-tri"),pe=".js-remover",me=400;ue.on("click",function(){he=s(this).parents(pe),parentNameUl=he.get(0).tagName,"UL"===parentNameUl&&(fe=s(this).parents("li"),fe.addClass("is-remove"),he.find(".is-remove").hide(me))});var ve=s(".js-numCounter");if(ve.length){var je=0,Ce=2e3;f()}var he,ge=s(".js-state-current"),be=".js-state-current",we=s(be+" a"),ke="is-current";ge.length&&s(we).on("click",function(){he=s(this).parents(be),thisParentList=s(this).parent("li"),he.find("."+ke).removeClass(ke),thisParentList.length?thisParentList.addClass(ke):s(this).addClass(ke)});var xe,ye,Te,qe,Se=s("#js-ellipsis"),We=s(".js-ellipsis"),Oe="…";Se.length&&s(We).each(function(){if(m=s(this),v="js-limit-txt",j=t(m,v),j=j.replace(".js-limit-txt",""),xe=parseInt(j),ye=s(this).text(),qe=i(ye),Te=0,qe){for(var e=0;e<ye.length;e++)if(ye.charCodeAt(e)<=255,Te+=1,Te>xe){ye=ye.substr(0,e)+Oe;break}}else for(var e=0;e<ye.length;e++)if(Te+=ye.charCodeAt(e)<=255?.5:1,Te>xe){ye=ye.substr(0,e)+Oe;break}s(this).text(ye)});var He=".js-clone",Le=".js-clone-tri",Pe=".js-clone-target";s(Le+" a").on("click",function(){He=s(this).parents(He),Pe=He.find(Pe).clone(!0),Le=He.find(Le),Le.before(Pe)});var Ae=s(".js-aside-main-open");if(Ae.length){var Re=0,De=s(".js-aside-main"),ze=".js-aside-main, .js-aside-remove",Me=s(".js-page-contents");Ae.on("click",function(){Re++,1===Re&&(De.addClass("is-transition").delay(500).addClass("is-open"),Me.addClass("is-transition").addClass("is-behind"),s(document).on("click",function(e){s(e.target).closest(ze).length||u()})),2===Re&&u()})}var Ne=0;s(".js-nav-slide-open").on("click",function(){Ne++,1===Ne&&(s(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),s(".js-page-contents:not(.js-nav-slide)").on("click",function(){s(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Ne=0,s(this).off()})),2===Ne&&(s(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Ne=0)})}(jQuery);