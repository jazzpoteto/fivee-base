/*! ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee-base
 * ver.1.6.0 / 2016.4.20
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ !*/
$(function(){function s(){var s=0,e=0;return d.each(function(){s+=$(this).outerHeight(!0),e++}),s}function e(s,e){return p=$(s).attr("class"),p=p.split(" "),p=$.grep(p,function(s,t){return s.indexOf(e)>=0}),u="."+p}function t(s){return s.match(/[^A-Za-z0-9]+/)?!1:!0}function a(s){V.push(s),A!==!1&&clearTimeout(A),A=setTimeout(function(){var s=V[V.length-1];return"off"!==s?!1:(D.hide(300,function(){$(this).removeClass("is-show"),M.css({top:0,left:0,marginTop:""})}),void(V=[]))},500)}function i(s){var e=s.offset(),t=$(window).outerWidth(!0),a=e.top,i=e.left,o=s.find(".js-tooltip-key").text();z.text("").text(o),D.show();var n=z.outerWidth(!0),r=z.outerHeight(!0),l=n+i,c=l-t;N.css("margin-left",""),l>t&&(i-=c,N.css("margin-left",c)),M.css({top:a-r-7,left:i,marginTop:-fixContentsRemoveVal+"px"}),D.addClass("is-show")}function o(){return Es=Ys.offset(),Fs=$(document).outerHeight()-Es.top}function n(){Gs=$(document).outerHeight(),Js=$(window).outerHeight(),Ks=Gs-Js,Bs=Ks-$(window).scrollTop(),Ys.length?(Fs=o(),r()):l()}function r(){Bs=Ks-$(window).scrollTop(),Fs>=Bs&&(Bs=Fs),Xs.stop().animate({bottom:Bs},Qs)}function l(){Bs=Ks-$(window).scrollTop(),Xs.stop().animate({bottom:Bs},Qs)}function c(){ie.each(function(){var s=$(this).text();s>oe&&$(this).animate({count:s},{duration:ne,easing:"linear",progress:function(){$(this).text(Math.ceil(this.count))},queue:!1})})}var d=$(".js-posi-remove");d.length?fixContentsRemoveVal=s():fixContentsRemoveVal=0;var h,f,u,p;$(window).scroll(function(){var s=$(document).scrollTop(),e=$(".js-scrolltop");s>600?e.fadeIn(600):e.fadeOut(400)}),$("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=$(this.hash);s=s.length?s:$("[name="+this.hash.slice(1)+"]");var e=s.offset();if(s.length)return $("html,body").animate({scrollTop:e.top-fixContentsRemoveVal},1e3),!1}}),$("#js-pageTop").on("click",function(){$("html,body").animate({scrollTop:0},1e3)});var m=$("#js-eql");if(m.length){var v=$(".js-eql-width"),j=$(".js-eql-height");if(v.length){var C=[];if(v){$(v).each(function(s){var e=$(v).eq(s).outerWidth(!0);C.push(e)});var g=Math.max.apply(null,C);$(v).width(g)}}if(j.length){var b=[];if(j){$(j).each(function(s){var e=$(j).eq(s).outerHeight(!0);b.push(e)});var g=Math.max.apply(null,b);$(j).height(g)}}}$(".js-nav-main a").on("click",function(){var s=$(this).parents(".js-nav-main"),t=$(this).parent("li"),a=t.attr("class");if(a){var i=a.match("parent");if(i){h=t,f="js-nav-main-parent",u=e(h,f),u=u.replace("parent","child");var o=$(this).find(".js-ic-arrow").children(),n=$(this).find(".js-ic-folder").children(),r=$(this).find(".js-ic-folder-arrow").children(),l=o.attr("class"),c=n.attr("class"),d=r.attr("class"),p=s.find(u).is(":visible");p?(s.find(u).hide(100),t.removeClass("is-open"),l&&(l=l.replace("up","down"),$(o).removeClass().addClass(l)),c&&(c=c.replace("folder-open","folder"),$(n).removeClass().addClass(c)),d&&(d=d.replace("down","right"),$(r).removeClass().addClass(d))):(s.find(u).show(300),t.addClass("is-open"),l&&(l=l.replace("down","up"),$(o).removeClass().addClass(l)),c&&(c=c.replace("folder","folder-open"),$(n).removeClass().addClass(c)),d&&(d=d.replace("right","down"),$(r).removeClass().addClass(d)))}}else s.find("li").removeClass("is-current"),t.addClass("is-current")});var w=$(".js-nav-main");if(w.length){var k=$(".js-nav-main .is-current").parents("ul");k.parent("li").addClass("is-open");var x=k.attr("class");if(x){var y=x.match("child");if(y){k.show(100);var T=k.parents("li"),q=T.find(".js-ic-arrow").children(),S=T.find(".js-ic-folder").children(),W=T.find(".js-ic-folder-arrow").children(),H=q.attr("class"),L=S.attr("class"),R=W.attr("class");H&&(H=H.replace("down","up"),$(q).removeClass().addClass(H)),L&&(L=L.replace("folder","folder-open"),$(S).removeClass().addClass(L)),R&&(R=R.replace("right","down"),$(W).removeClass().addClass(R))}}}var P="off",V=[],A=!1,D=$(".js-tooltip"),z=$(".js-tooltip-wrap"),M=$(".js-tooltip > .st-body"),N=$(".js-balloon");$(".js-tooltip-hover").on({mouseenter:function(){var s=$(this);i(s),P="on",a(P)},mouseleave:function(){P="off",a(P)}}),D.on({mouseenter:function(){P="on",a(P)},mouseleave:function(){P="off",a(P)}});var O,U,I,Z,B,E,F,G,J,K,Q,X=0,Y=".js-popup-open",_=".js-popup-close",ss=".js-popup-open, .js-popup, .js-bookmark-open",es=".js-popup",ts=".js-popup-arrow",as="is-on",is="is-fixed",os=0,ns=7,rs=20;$(Y).on("click",function(){O=$(this),O.hasClass(as)?$(es).hide(function(){$(Y+"."+as).removeClass(as)}):($(Y+"."+as).removeClass(as),O.addClass(as),f="js-tpl",Q=O.hasClass(is),ls.popupPosi(O,f))});var ls={popupPosi:function(s,t){U=$(window).outerWidth(!0),I=s.offset(),Z=I.top,Z=Z+s.outerHeight(!0)+7,B=s.outerWidth(!0),E=I.left,h=s,t=t,u=e(h,t),ls.popupShow(Z,E,u)},popupShow:function(s,e,t){$(es+" > .st-body").removeClass("is-current"),$(es+" > .st-body"+t).addClass("is-current"),$(es).css({opacity:"0",display:"block"}),J=$(es+" > .st-body"+t).outerWidth(!0),K=e+J,G=B/2,B>J&&(G=rs),K>=U&&(F=K-U+ns,e-=F,G+=F),ns>e&&(e=ns),rs>G&&(G=rs),Q?(s-=$(window).scrollTop(),e+=$(window).scrollLeft(),$(es+" > .st-body"+t).css({position:"",top:" ",left:"",right:"",marginTop:""}).css({position:"fixed",top:s,bottom:"auto",right:"auto",left:e}).addClass(is)):$(es+" > .st-body"+t).css({position:"",top:"",left:"",right:"",marginTop:""}).css({top:s,bottom:"auto",right:"auto",left:e,marginTop:-fixContentsRemoveVal+"px"}).removeClass(is),$(ts).css("left","").css("left",G),$(es).fadeTo(os,1,function(){X++,1===X&&$(document).on("click",function(s){var e=$(s.target).closest(ss).length;return e||($(es).hide(),$(Y+"."+as).removeClass(as),X=0,$(this).off()),!1})})}};$(_).on("click",function(){$(es).hide(function(){$(Y+"."+as).removeClass(as)})});var cs,O,ds=$(".js-bookmark-open"),hs=$(".js-bookmark-delete");ds.on("click",function(){cs=$(this).children("i"),O=$(this),O.hasClass(as)&&(f="js-tpl",ls.popupPosi(O,f)),cs.removeClass("fa-star-o").addClass("fa-star"),O.addClass(as),hs.on("click",function(){cs.removeClass("fa-star").addClass("fa-star-o"),O.removeClass(as)})}),$(".js-modal-open").on("click",function(){h=$(this),f="js-tpl",u=e(h,f);var s=$(".js-modal"),t=$(".js-modal > .st-body"+u);$(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),t.addClass("is-current");var a=t.outerWidth()/2;t.css("margin-left",-a),s.show(),$(".js-cartain").show(),$(".js-modal-close, .js-cartain").on("click",function(){s.hide(),$(".js-cartain").hide()})}),$(".js-message-open").on("click",function(){h=$(this),f="js-tpl",u=e(h,f),$(".js-message > .st-body").removeClass("is-open"),$(".js-message > .st-body"+u).addClass("is-open")}),$(".js-message-close").on("click",function(){$(".js-message > .st-body").removeClass("is-open")});var fs,us=".js-toast",$s=".js-toast-open",ps=700,ms=4e3;$($s).on("click",function(){h=$(this),f="js-tpl",u=e(h,f),clearTimeout(fs),$(us+" > .st-body").hide();var s=$(us+" > .st-body"+u).css("margin-left","").show().outerWidth(!0)/2;$(us+" > .st-body"+u).css("margin-left",-s),fs=setTimeout(function(){console.log("is timer"),$(us+" > .st-body"+u).fadeOut(ps)},ms),$(".js-toast-close").on("click",function(){$(us+" > .st-body"+u).hide(),clearTimeout(fs)})}),$(".js-loader-on").on("click",function(){$(".js-loader").show()}),$(".js-loader-off").on("click",function(){$(".js-loader").hide()}),$(".js-loader-abs-on").on("click",function(){var s=$(this).offset(),e=s.top,t=s.left;$(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:e,left:t}),$(".js-loader-abs").show()}),$(".js-loader-abs-off").on("click",function(){$(".js-loader-abs").hide()}),$(".js-collapse").on("click",function(){h=$(this),f="js-collapse-parent",u=e(h,f),u=u.replace("js-collapse-parent","js-collapse-child"),$(u).slideToggle();var s=$(this).children(),t=s.attr("class");if(t.match("down"))t=t.replace("down","up"),s.removeClass().addClass(t);else{if(!t.match("up"))return!1;t=t.replace("up","down"),s.removeClass().addClass(t)}}),$(".js-collapse-slide").on("click",function(){h=$(this),f="js-collapse-slide-parent",u=e(h,f),u=u.replace("js-collapse-slide-parent","js-collapse-slide-child"),$(u).stop().animate({width:"toggle"},300);var s=$(this).children(),t=s.attr("class");if(t.match("left"))t=t.replace("left","right"),s.removeClass().addClass(t);else{if(!t.match("right"))return!1;t=t.replace("right","left"),s.removeClass().addClass(t)}}),$(".js-tab-select > li").on("click",function(){var s=$(this).parents(".js-tab"),e=$(s).find(".js-tab-select").children("li"),t=$(s).find(".js-tab-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")}),$(".js-tab-scroll-select > li").on("click",function(){var s=$(this).parents(".js-tab-scroll"),e=$(s).find(".js-tab-scroll-select").children("li"),t=$(s).find(".js-tab-scroll-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")});var vs=$(".js-tab-scroll"),js=vs.length,Cs=$(".js-tab-scroll-select"),gs=$(".js-tab-scroll-select > li:visible"),bs="is-disabled",ws=$(".js-tab-arrow-right"),ks=$(".js-tab-arrow-right"),xs=$(".js-tab-arrow-left"),ys=$(".js-tab-arrow-left"),Ts=400,qs=74,Ss=!1,Ws=!1,Hs=!1,Ls={tabSetStart:function(){var s=vs.outerWidth(!0),e=s-qs;Cs.width(Ls.tabWidthSum());var t=Ls.tabWidthSum();return t>e?(Rs=t-e,ks.removeClass(bs),Rs):(ks.addClass(bs),ys.addClass(bs),Rs=0)},tabSetReset:function(){Cs.animate({left:0},0,function(){Rs=Ls.tabSetStart(),Ss=!0,ys.addClass(bs)})},tabWidthSum:function(){var s=gs.length,e=0,t=0;return gs.each(function(){e+=$(this).outerWidth(!0),t++,t===s&&(e+=7)}),e}};if(js){var Rs=Ls.tabSetStart(),Ps=!1;$(window).resize(function(){Ps||clearTimeout(Ps),Ps=setTimeout(function(){Ls.tabSetReset()},40)}),ws.on("click",function(){if(Ws)return!1;Ws=!0;var s=-Rs,e=Cs.position();return e=e.left,e===s?(Ws=!1,!1):(ys.removeClass(bs),e-=Ts,Ss===!0&&(e=-Ts,Ss=!1),s>e&&(moveDiff=e-s,e-=moveDiff),void Cs.animate({left:e},400,function(){Ws=!1,e===s&&ks.addClass(bs)}))}),xs.on("click",function(){if(Hs)return!1;Hs=!0;var s=0,e=Cs.position();return e=e.left,e===s?(Hs=!1,!1):(ks.removeClass(bs),e+=Ts,Ss===!0&&(e=Ts,Ss=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void Cs.animate({left:e},400,function(){Hs=!1,e===s&&ys.addClass(bs)}))})}$(".js-select-tr tr").on("click",function(){$(this).toggleClass("is-select")}),$(".js-col a").on("click",function(){var s=$(this).parents("li").index();$(".js-col-on colgroup col").removeClass("is-focus"),$(".js-col-on colgroup col").eq(s).addClass("is-focus")}),$(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var s="js-sameclass-num",t=$(this).attr("class");t&&t.match(s)&&(h=$(this),f=s,e(h,f),$(u).addClass("is-focus"))},mouseleave:function(){$(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),$(".js-check input").on("change",function(){var s=$(this).attr("class");if(s){var t=s.match("parent"),a=s.match("child");if(t){var i=$(this),o="js-check-parent-num",n=e(i,o);n=n.replace("parent","child");var r=$(this).prop("checked");r?$(n).prop("checked",!0):$(n).prop("checked",!1),Vs.trHightLight(n)}if(a){var i=$(this),o="js-check-child-num",n=e(i,o);Vs.trHightLight(n)}}});var Vs={trHightLight:function(s){$("input"+s).parents("tr").removeClass("is-highlight"),$("input"+s+":checked").parents("tr").addClass("is-highlight")}},As=[],Ds=[];$(".js-html-show").on("click",function(){h=$(this),f="js-example-num",u=e(h,f);var s="../doc/"+u.replace(".js-example-num","")+".txt",t=u.slice(0,23).replace(".js-example-num",".js-example-tag-num"),a=$.inArray(u,As),i=As[As.length-1],o=Ds[Ds.length-1];$.ajax({url:s,dataType:"text",success:function(s){var e=s.replace(/\r\n/g,"\n");-1===a?($(t+" textarea").text("").text(e),$(t).show(300),As=[],As.push(u)):u!==i?($(t+" textarea").text("").text(e),As.push(u)):($(t).hide(300),As=[]),t!==o&&($(o).hide(300),Ds=[],Ds.push(t))}})}),$(".js-nav-block a").on("click",function(){var s=$(this).parents(".js-nav-block");h=s,f="js-nav-block-select";var t=e(h,f);t=t.replace("select","content");var a=$(this).parent("li");s.find("li").removeClass("is-current"),a.addClass("is-current");var i=a.attr("class");if(i){var o=i.match("parent");o&&(h=a,f="js-nav-block-parent",u=e(h,f),u=u.replace("parent","child"),$(t).find("ul:eq(0)").children("li").hide(),$(t).find(u).fadeToggle())}});var zs,Ms,Ns,Os,Us=".js-pagination",Is=Us+" li";$(Is+" a").on("click",function(){h=$(this).parents(Us),f="js-grp",u=e(h,f),Os=u,zs=$(this).parents("li").hasClass("js-notouch"),zs||($(Os+Is).removeClass("is-current"),Ms=$(this).parent("li"),Ns=Ms.index(),$(Us+Os).each(function(){$(this).find("li").eq(Ns).addClass("is-current")}))});var Zs=$("#js-promo-footer");if(Zs.length){var Bs,Es,Fs,Gs,Js,Ks,Ps,Fs,Qs=300,Xs=$("#js-promo-footer > .st-body"),Ys=$(".js-page-footer");Ps=!1,$(window).resize(function(){Ps||clearTimeout(Ps),Ps=setTimeout(function(){n()},40)}),Ys.length?$(window).scroll(function(){Fs=o(),r()}):$(window).scroll(function(){l()}),n()}var _s,se,ee=$(".js-remover-tri"),te=".js-remover",ae=400;ee.on("click",function(){_s=$(this).parents(te),parentNameUl=_s.get(0).tagName,"UL"===parentNameUl&&(se=$(this).parents("li"),se.addClass("is-remove"),_s.find(".is-remove").hide(ae))});var ie=$(".js-numCounter");if(ie.length){var oe=0,ne=2e3;c()}var _s,re=$(".js-state-current"),le=".js-state-current",ce=$(le+" a"),de="is-current";re.length&&$(ce).on("click",function(){_s=$(this).parents(le),thisParentList=$(this).parent("li"),_s.find("."+de).removeClass(de),thisParentList.length?thisParentList.addClass(de):$(this).addClass(de)});var he,fe,ue,$e,pe=$("#js-ellipsis"),me=$(".js-ellipsis"),ve="…";pe.length&&$(me).each(function(){if(h=$(this),f="js-limit-txt",u=e(h,f),u=u.replace(".js-limit-txt",""),he=parseInt(u),fe=$(this).text(),$e=t(fe),ue=0,$e){for(var s=0;s<fe.length;s++)if(fe.charCodeAt(s)<=255,ue+=1,ue>he){fe=fe.substr(0,s)+ve;break}}else for(var s=0;s<fe.length;s++)if(ue+=fe.charCodeAt(s)<=255?.5:1,ue>he){fe=fe.substr(0,s)+ve;break}$(this).text(fe)});var je=0;$(".js-aside-main-open").on("click",function(){je++,1===je&&($(".js-aside-main").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-aside-main)").on("click",function(){$(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),je=0,$(this).off()})),2===je&&($(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),je=0)});var Ce=0;$(".js-nav-slide-open").on("click",function(){Ce++,1===Ce&&($(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-nav-slide)").on("click",function(){$(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),Ce=0,$(this).off()})),2===Ce&&($(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),Ce=0)})});