/*! ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee-base
 * ver.1.6.3 / 2016.5.16
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ !*/
$(function(){function s(){var s=0,e=0;return h.each(function(){s+=$(this).outerHeight(!0),e++}),s}function e(s,e){return v=$(s).attr("class"),v=v.split(" "),v=$.grep(v,function(s,t){return s.indexOf(e)>=0}),m="."+v}function t(s){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("iphone")>-1,a=e.indexOf("ipad")>-1,i=e.indexOf("android")>-1&&e.indexOf("mobile")>-1,o=e.indexOf("android")>-1&&-1==e.indexOf("mobile");return t&&(s="iphone"),a&&(s="ipad"),i&&(s="android"),o&&(s="androidTablet"),s}function a(s){return s.match(/[^A-Za-z0-9]+/)?!1:!0}function i(s){M.push(s),N!==!1&&clearTimeout(N),N=setTimeout(function(){var s=M[M.length-1];return"off"!==s?!1:(U.hide(F,function(){$(this).removeClass("is-show"),Z.css({top:0,left:0,marginTop:""})}),void(M=[]))},0)}function o(s){M.push(s),N!==!1&&clearTimeout(N),N=setTimeout(function(){var s=M[M.length-1];return"off"!==s?!1:(U.hide(F,function(){$(this).removeClass("is-show"),Z.css({top:0,left:0,marginTop:""})}),void(M=[]))},G)}function n(s){var e=s.offset(),t=$(window).outerWidth(!0),a=e.top,i=e.left,o=s.find(".js-tooltip-key").text();I.text("").text(o),U.show();var n=I.outerWidth(!0),r=I.outerHeight(!0),l=n+i,c=l-t;B.css("margin-left",""),l>t&&(i-=c,B.css("margin-left",c)),Z.css({top:a-r-7,left:i,marginTop:-fixContentsRemoveVal+"px"}),U.addClass("is-show")}function r(){return se=re.offset(),ee=$(document).outerHeight()-se.top}function l(){te=$(document).outerHeight(),ae=window.innerHeight,ie=te-ae,_s=ie-$(window).scrollTop(),re.length?(ee=r(),c()):d()}function c(){_s=ie-$(window).scrollTop(),ee>=_s&&(_s=ee),ne.stop().animate({bottom:_s},oe)}function d(){_s=ie-$(window).scrollTop(),ne.stop().animate({bottom:_s},oe)}function f(){ue.each(function(){var s=$(this).text();s>pe&&$(this).animate({count:s},{duration:$e,easing:"linear",progress:function(){$(this).text(Math.ceil(this.count))},queue:!1})})}var h=$(".js-posi-remove");h.length?fixContentsRemoveVal=s():fixContentsRemoveVal=0;var u,p,m,v,j;$(window).scroll(function(){var s=$(document).scrollTop(),e=$(".js-scrolltop");s>600?e.fadeIn(600):e.fadeOut(400)}),$("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=$(this.hash);s=s.length?s:$("[name="+this.hash.slice(1)+"]");var e=s.offset();if(s.length)return $("html,body").animate({scrollTop:e.top-fixContentsRemoveVal},1e3),!1}}),$("#js-pageTop").on("click",function(){$("html,body").animate({scrollTop:0},1e3)});var C=$("#js-eql");if(C.length){var g=$(".js-eql-width"),b=$(".js-eql-height");if(g.length){var w=[];if(g){$(g).each(function(s){var e=$(g).eq(s).outerWidth(!0);w.push(e)});var k=Math.max.apply(null,w);$(g).width(k)}}if(b.length){var x=[];if(b){$(b).each(function(s){var e=$(b).eq(s).outerHeight(!0);x.push(e)});var k=Math.max.apply(null,x);$(b).height(k)}}}$(".js-nav-main a").on("click",function(){var s=$(this).parents(".js-nav-main"),t=$(this).parent("li"),a=t.attr("class");if(a){var i=a.match("parent");if(i){u=t,p="js-nav-main-parent",m=e(u,p),m=m.replace("parent","child");var o=$(this).find(".js-ic-arrow").children(),n=$(this).find(".js-ic-folder").children(),r=$(this).find(".js-ic-folder-arrow").children(),l=o.attr("class"),c=n.attr("class"),d=r.attr("class"),f=s.find(m).is(":visible");f?(s.find(m).hide(100),t.removeClass("is-open"),l&&(l=l.replace("up","down"),$(o).removeClass().addClass(l)),c&&(c=c.replace("folder-open","folder"),$(n).removeClass().addClass(c)),d&&(d=d.replace("down","right"),$(r).removeClass().addClass(d))):(s.find(m).show(300),t.addClass("is-open"),l&&(l=l.replace("down","up"),$(o).removeClass().addClass(l)),c&&(c=c.replace("folder","folder-open"),$(n).removeClass().addClass(c)),d&&(d=d.replace("right","down"),$(r).removeClass().addClass(d)))}}else s.find("li").removeClass("is-current"),t.addClass("is-current")});var y=$(".js-nav-main");if(y.length){var T=$(".js-nav-main .is-current").parents("ul");T.parent("li").addClass("is-open");var q=T.attr("class");if(q){var S=q.match("child");if(S){T.show(100);var W=T.parents("li"),H=W.find(".js-ic-arrow").children(),L=W.find(".js-ic-folder").children(),O=W.find(".js-ic-folder-arrow").children(),R=H.attr("class"),P=L.attr("class"),A=O.attr("class");R&&(R=R.replace("down","up"),$(H).removeClass().addClass(R)),P&&(P=P.replace("folder","folder-open"),$(L).removeClass().addClass(P)),A&&(A=A.replace("right","down"),$(O).removeClass().addClass(A))}}}var V,D,z="off",M=[],N=!1,U=$(".js-tooltip"),I=$(".js-tooltip-wrap"),Z=$(".js-tooltip > .st-body"),B=$(".js-balloon"),E=".js-tooltip-hover",F=300,G=500;j=t(j),"iphone"===j||"ipad"===j?$(E).on("click",function(){D=$(this).hasClass("is-on"),D?(z="off",i(z),$(E).removeClass("is-on")):(V=$(this),n(V),z="on",i(z),$(E).removeClass("is-on"),$(this).addClass("is-on"))}):($(".js-tooltip-hover").on({mouseenter:function(){V=$(this),n(V),z="on",o(z)},mouseleave:function(){z="off",o(z)}}),U.on({mouseenter:function(){z="on",o(z)},mouseleave:function(){z="off",o(z)}}));var J,K,Q,X,Y,_,ss,es,ts,as,is,os=0,ns=".js-popup-open",rs=".js-popup-close",ls="body > *",cs=".js-popup-open, .js-popup, .js-bookmark-open",ds=".js-popup",fs=".js-popup-arrow",hs="is-on",us="is-fixed",ps=0,$s=7,ms=20;$(ns).on("click",function(){J=$(this),J.hasClass(hs)?$(ds).hide(function(){$(ns+"."+hs).removeClass(hs)}):($(ns+"."+hs).removeClass(hs),J.addClass(hs),p="js-tpl",is=J.hasClass(us),vs.popupPosi(J,p))});var vs={popupPosi:function(s,t){K=$(window).outerWidth(!0),Q=s.offset(),X=Q.top,X=X+s.outerHeight(!0)+7,Y=s.outerWidth(!0),_=Q.left,u=s,t=t,m=e(u,t),vs.popupShow(X,_,m)},popupShow:function(s,e,t){$(ds+" > .st-body").removeClass("is-current"),$(ds+" > .st-body"+t).addClass("is-current"),$(ds).css({opacity:"0",display:"block"}),ts=$(ds+" > .st-body"+t).outerWidth(!0),as=e+ts,es=Y/2,Y>ts&&(es=ms),as>=K&&(ss=as-K+$s,e-=ss,es+=ss),$s>e&&(e=$s),ms>es&&(es=ms),is?(s-=$(window).scrollTop(),e+=$(window).scrollLeft(),$(ds+" > .st-body"+t).css({position:"",top:" ",left:"",right:"",marginTop:""}).css({position:"fixed",top:s,bottom:"auto",right:"auto",left:e}).addClass(us)):$(ds+" > .st-body"+t).css({position:"",top:"",left:"",right:"",marginTop:""}).css({top:s,bottom:"auto",right:"auto",left:e,marginTop:-fixContentsRemoveVal+"px"}).removeClass(us),$(fs).css("left","").css("left",es),$(ds).fadeTo(ps,1,function(){os++,1===os&&$(ls).on("click",function(s){var e=$(s.target).closest(cs).length;e||($(ds).hide(),$(ns+"."+hs).removeClass(hs),os=0,$(this).off())})})}};$(rs).on("click",function(){$(ds).hide(function(){$(ns+"."+hs).removeClass(hs)})});var js,J,Cs=$(".js-bookmark-open"),gs=$(".js-bookmark-delete");Cs.on("click",function(){js=$(this).children("i"),J=$(this),J.hasClass(hs)&&(p="js-tpl",vs.popupPosi(J,p)),js.removeClass("fa-star-o").addClass("fa-star"),J.addClass(hs),gs.on("click",function(){js.removeClass("fa-star").addClass("fa-star-o"),J.removeClass(hs)})}),$(".js-modal-open").on("click",function(){u=$(this),p="js-tpl",m=e(u,p);var s=$(".js-modal"),t=$(".js-modal > .st-body"+m);$(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),t.addClass("is-current");var a=t.outerWidth()/2;t.css("margin-left",-a),s.show(),$(".js-cartain").show(),$(".js-modal-close, .js-cartain").on("click",function(){s.hide(),$(".js-cartain").hide()})}),$(".js-message-open").on("click",function(){u=$(this),p="js-tpl",m=e(u,p),$(".js-message > .st-body").removeClass("is-open"),$(".js-message > .st-body"+m).addClass("is-open")}),$(".js-message-close").on("click",function(){$(".js-message > .st-body").removeClass("is-open")});var bs,ws=".js-toast",ks=".js-toast-open",xs=700,ys=4e3;$(ks).on("click",function(){u=$(this),p="js-tpl",m=e(u,p),clearTimeout(bs),$(ws+" > .st-body").hide();var s=$(ws+" > .st-body"+m).css("margin-left","").show().outerWidth(!0)/2;$(ws+" > .st-body"+m).css("margin-left",-s),bs=setTimeout(function(){$(ws+" > .st-body"+m).fadeOut(xs)},ys),$(".js-toast-close").on("click",function(){$(ws+" > .st-body"+m).hide(),clearTimeout(bs)})}),$(".js-loader-on").on("click",function(){$(".js-loader").show()}),$(".js-loader-off").on("click",function(){$(".js-loader").hide()}),$(".js-loader-abs-on").on("click",function(){var s=$(this).offset(),e=s.top,t=s.left;$(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:e,left:t}),$(".js-loader-abs").show()}),$(".js-loader-abs-off").on("click",function(){$(".js-loader-abs").hide()}),$(".js-collapse").on("click",function(){u=$(this),p="js-collapse-parent",m=e(u,p),m=m.replace("js-collapse-parent","js-collapse-child"),$(m).slideToggle();var s=$(this).children(),t=s.attr("class");if(t.match("down"))t=t.replace("down","up"),s.removeClass().addClass(t);else{if(!t.match("up"))return!1;t=t.replace("up","down"),s.removeClass().addClass(t)}}),$(".js-collapse-slide").on("click",function(){u=$(this),p="js-collapse-slide-parent",m=e(u,p),m=m.replace("js-collapse-slide-parent","js-collapse-slide-child"),$(m).stop().animate({width:"toggle"},300);var s=$(this).children(),t=s.attr("class");if(t.match("left"))t=t.replace("left","right"),s.removeClass().addClass(t);else{if(!t.match("right"))return!1;t=t.replace("right","left"),s.removeClass().addClass(t)}}),$(".js-tab-select > li").on("click",function(){var s=$(this).parents(".js-tab"),e=$(s).find(".js-tab-select").children("li"),t=$(s).find(".js-tab-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")}),$(".js-tab-scroll-select > li").on("click",function(){var s=$(this).parents(".js-tab-scroll"),e=$(s).find(".js-tab-scroll-select").children("li"),t=$(s).find(".js-tab-scroll-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")});var Ts=$(".js-tab-scroll"),qs=Ts.length,Ss=$(".js-tab-scroll-select"),Ws=$(".js-tab-scroll-select > li:visible"),Hs="is-disabled",Ls=$(".js-tab-arrow-right"),Os=$(".js-tab-arrow-right"),Rs=$(".js-tab-arrow-left"),Ps=$(".js-tab-arrow-left"),As=400,Vs=74,Ds=!1,zs=!1,Ms=!1,Ns={tabSetStart:function(){var s=Ts.outerWidth(!0),e=s-Vs;Ss.width(Ns.tabWidthSum());var t=Ns.tabWidthSum();return t>e?(Us=t-e,Os.removeClass(Hs),Us):(Os.addClass(Hs),Ps.addClass(Hs),Us=0)},tabSetReset:function(){Ss.animate({left:0},0,function(){Us=Ns.tabSetStart(),Ds=!0,Ps.addClass(Hs)})},tabWidthSum:function(){var s=Ws.length,e=0,t=0;return Ws.each(function(){e+=$(this).outerWidth(!0),t++,t===s&&(e+=7)}),e}};if(qs){var Us=Ns.tabSetStart(),Is=!1;$(window).resize(function(){Is||clearTimeout(Is),Is=setTimeout(function(){Ns.tabSetReset()},40)}),Ls.on("click",function(){if(zs)return!1;zs=!0;var s=-Us,e=Ss.position();return e=e.left,e===s?(zs=!1,!1):(Ps.removeClass(Hs),e-=As,Ds===!0&&(e=-As,Ds=!1),s>e&&(moveDiff=e-s,e-=moveDiff),void Ss.animate({left:e},400,function(){zs=!1,e===s&&Os.addClass(Hs)}))}),Rs.on("click",function(){if(Ms)return!1;Ms=!0;var s=0,e=Ss.position();return e=e.left,e===s?(Ms=!1,!1):(Os.removeClass(Hs),e+=As,Ds===!0&&(e=As,Ds=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void Ss.animate({left:e},400,function(){Ms=!1,e===s&&Ps.addClass(Hs)}))})}$(".js-select-tr tr").on("click",function(){$(this).toggleClass("is-select")}),$(".js-col a").on("click",function(){var s=$(this).parents("li").index();$(".js-col-on colgroup col").removeClass("is-focus"),$(".js-col-on colgroup col").eq(s).addClass("is-focus")}),$(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var s="js-sameclass-num",t=$(this).attr("class");t&&t.match(s)&&(u=$(this),p=s,e(u,p),$(m).addClass("is-focus"))},mouseleave:function(){$(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),$(".js-check input").on("change",function(){var s=$(this).attr("class");if(s){var t=s.match("parent"),a=s.match("child");if(t){var i=$(this),o="js-check-parent-num",n=e(i,o);n=n.replace("parent","child");var r=$(this).prop("checked");r?$(n).prop("checked",!0):$(n).prop("checked",!1),Zs.trHightLight(n)}if(a){var i=$(this),o="js-check-child-num",n=e(i,o);Zs.trHightLight(n)}}});var Zs={trHightLight:function(s){$("input"+s).parents("tr").removeClass("is-highlight"),$("input"+s+":checked").parents("tr").addClass("is-highlight")}},Bs=[],Es=[];$(".js-html-show").on("click",function(){u=$(this),p="js-example-num",m=e(u,p);var s="../doc/"+m.replace(".js-example-num","")+".txt",t=m.slice(0,23).replace(".js-example-num",".js-example-tag-num"),a=$.inArray(m,Bs),i=Bs[Bs.length-1],o=Es[Es.length-1];$.ajax({url:s,dataType:"text",success:function(s){var e=s.replace(/\r\n/g,"\n");-1===a?($(t+" textarea").text("").text(e),$(t).show(300),Bs=[],Bs.push(m)):m!==i?($(t+" textarea").text("").text(e),Bs.push(m)):($(t).hide(300),Bs=[]),t!==o&&($(o).hide(300),Es=[],Es.push(t))}})}),$(".js-nav-block a").on("click",function(){var s=$(this).parents(".js-nav-block");u=s,p="js-nav-block-select";var t=e(u,p);t=t.replace("select","content");var a=$(this).parent("li");s.find("li").removeClass("is-current"),a.addClass("is-current");var i=a.attr("class");if(i){var o=i.match("parent");o&&(u=a,p="js-nav-block-parent",m=e(u,p),m=m.replace("parent","child"),$(t).find("ul:eq(0)").children("li").hide(),$(t).find(m).fadeToggle())}});var Fs,Gs,Js,Ks,Qs=".js-pagination",Xs=Qs+" li";$(Xs+" a").on("click",function(){u=$(this).parents(Qs),p="js-grp",m=e(u,p),Ks=m,Fs=$(this).parents("li").hasClass("js-notouch"),Fs||($(Ks+Xs).removeClass("is-current"),Gs=$(this).parent("li"),Js=Gs.index(),$(Qs+Ks).each(function(){$(this).find("li").eq(Js).addClass("is-current")}))});var Ys=$("#js-promo-footer");if(Ys.length){var _s,se,ee,te,ae,ie,Is,ee,oe=300,ne=$("#js-promo-footer > .st-body"),re=$(".js-page-footer");Is=!1,$(window).resize(function(){Is||clearTimeout(Is),Is=setTimeout(function(){l()},40)}),re.length?$(window).scroll(function(){ee=r(),c()}):$(window).scroll(function(){d()}),l()}var le,ce,de=$(".js-remover-tri"),fe=".js-remover",he=400;de.on("click",function(){le=$(this).parents(fe),parentNameUl=le.get(0).tagName,"UL"===parentNameUl&&(ce=$(this).parents("li"),ce.addClass("is-remove"),le.find(".is-remove").hide(he))});var ue=$(".js-numCounter");if(ue.length){var pe=0,$e=2e3;f()}var le,me=$(".js-state-current"),ve=".js-state-current",je=$(ve+" a"),Ce="is-current";me.length&&$(je).on("click",function(){le=$(this).parents(ve),thisParentList=$(this).parent("li"),le.find("."+Ce).removeClass(Ce),thisParentList.length?thisParentList.addClass(Ce):$(this).addClass(Ce)});var ge,be,we,ke,xe=$("#js-ellipsis"),ye=$(".js-ellipsis"),Te="…";xe.length&&$(ye).each(function(){if(u=$(this),p="js-limit-txt",m=e(u,p),m=m.replace(".js-limit-txt",""),ge=parseInt(m),be=$(this).text(),ke=a(be),we=0,ke){for(var s=0;s<be.length;s++)if(be.charCodeAt(s)<=255,we+=1,we>ge){be=be.substr(0,s)+Te;break}}else for(var s=0;s<be.length;s++)if(we+=be.charCodeAt(s)<=255?.5:1,we>ge){be=be.substr(0,s)+Te;break}$(this).text(be)});var qe=".js-clone",Se=".js-clone-tri",We=".js-clone-target";$(Se+" a").on("click",function(){qe=$(this).parents(qe),We=qe.find(We).clone(!0),Se=qe.find(Se),Se.before(We)});var He=0;$(".js-aside-main-open").on("click",function(){He++,1===He&&($(".js-aside-main").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-aside-main)").on("click",function(){$(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),He=0,$(this).off()})),2===He&&($(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),He=0)});var Le=0;$(".js-nav-slide-open").on("click",function(){Le++,1===Le&&($(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-nav-slide)").on("click",function(){$(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),Le=0,$(this).off()})),2===Le&&($(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),Le=0)})});