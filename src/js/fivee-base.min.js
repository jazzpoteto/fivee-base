/*! ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee-base
 * ver.1.6.5 / 2016.6.20
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ !*/
!function(s){function e(){var e=0,t=0;return p.each(function(){e+=s(this).outerHeight(!0),t++}),e}function t(e,t){return C=s(e).attr("class"),C=C.split(" "),C=s.grep(C,function(s,e){return s.indexOf(t)>=0}),j="."+C}function a(s){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("iphone")>-1,a=e.indexOf("ipad")>-1,i=e.indexOf("android")>-1&&e.indexOf("mobile")>-1,o=e.indexOf("android")>-1&&e.indexOf("mobile")==-1;return t&&(s="iphone"),a&&(s="ipad"),i&&(s="android"),o&&(s="androidTablet"),s}function i(s){return!s.match(/[^A-Za-z0-9]+/)}function o(e){U.push(e),I!==!1&&clearTimeout(I),I=setTimeout(function(){var e=U[U.length-1];return"off"===e&&(Q.hide(G,function(){s(this).removeClass("is-show"),B.css({top:0,left:0,marginTop:""})}),void(U=[]))},0)}function n(e){U.push(e),I!==!1&&clearTimeout(I),I=setTimeout(function(){var e=U[U.length-1];return"off"===e&&(Q.hide(G,function(){s(this).removeClass("is-show"),B.css({top:0,left:0,marginTop:""})}),void(U=[]))},J)}function r(e){var t=e.offset(),a=s(window).outerWidth(!0),i=t.top,o=t.left,n=e.find(".js-tooltip-key").text();Z.text("").text(n),Q.show();var r=Z.outerWidth(!0),l=Z.outerHeight(!0),c=r+o,d=c-a;E.css("margin-left",""),a<c&&(o-=d,E.css("margin-left",d)),B.css({top:i-l-7,left:o,marginTop:-fixContentsRemoveVal+"px"}),Q.addClass("is-show")}function l(){return ee=le.offset(),te=s(document).outerHeight()-ee.top}function c(){ae=s(document).outerHeight(),ie=window.innerHeight,oe=ae-ie,se=oe-s(window).scrollTop(),le.length?(te=l(),d()):h()}function d(){se=oe-s(window).scrollTop(),te>=se&&(se=te),re.stop().animate({bottom:se},ne)}function h(){se=oe-s(window).scrollTop(),re.stop().animate({bottom:se},ne)}function f(){pe.each(function(){var e=s(this).text();me<e&&s(this).animate({count:e},{duration:ve,easing:"linear",progress:function(){s(this).text(Math.ceil(this.count))},queue:!1})})}function u(){return Pe.removeClass("is-open").delay(500).queue(function(){s(this).removeClass("is-transition").dequeue()}),Re=0}var p=s(".js-posi-remove");p.length?fixContentsRemoveVal=e():fixContentsRemoveVal=0;var m,v,j,C,g;s(window).scroll(function(){var e=s(document).scrollTop(),t=s(".js-scrolltop");e>600?t.fadeIn(600):t.fadeOut(400)}),s("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=s(this.hash);e=e.length?e:s("[name="+this.hash.slice(1)+"]");var t=e.offset();if(e.length)return s("html,body").animate({scrollTop:t.top-fixContentsRemoveVal},1e3),!1}}),s("#js-pageTop").on("click",function(){s("html,body").animate({scrollTop:0},1e3)});var b=s("#js-eql");if(b.length){var w=s(".js-eql-width"),k=s(".js-eql-height");if(w.length){var x=[];if(w){s(w).each(function(e){var t=s(w).eq(e).outerWidth(!0);x.push(t)});var y=Math.max.apply(null,x);s(w).width(y)}}if(k.length){var T=[];if(k){s(k).each(function(e){var t=s(k).eq(e).outerHeight(!0);T.push(t)});var y=Math.max.apply(null,T);s(k).height(y)}}}s(".js-nav-main a").on("click",function(){var e=s(this).parents(".js-nav-main"),a=s(this).parent("li"),i=a.attr("class");if(i){var o=i.match("parent");if(o){m=a,v="js-nav-main-parent",j=t(m,v),j=j.replace("parent","child");var n=s(this).find(".js-ic-arrow").children(),r=s(this).find(".js-ic-folder").children(),l=s(this).find(".js-ic-folder-arrow").children(),c=n.attr("class"),d=r.attr("class"),h=l.attr("class"),f=e.find(j).is(":visible");f?(e.find(j).hide(100),a.removeClass("is-open"),c&&(c=c.replace("up","down"),s(n).removeClass().addClass(c)),d&&(d=d.replace("folder-open","folder"),s(r).removeClass().addClass(d)),h&&(h=h.replace("down","right"),s(l).removeClass().addClass(h))):(e.find(j).show(300),a.addClass("is-open"),c&&(c=c.replace("down","up"),s(n).removeClass().addClass(c)),d&&(d=d.replace("folder","folder-open"),s(r).removeClass().addClass(d)),h&&(h=h.replace("right","down"),s(l).removeClass().addClass(h)))}}else e.find("li").removeClass("is-current"),a.addClass("is-current")});var q=s(".js-nav-main");if(q.length){var S=s(".js-nav-main .is-current").parents("ul");S.parent("li").addClass("is-open");var W=S.attr("class");if(W){var H=W.match("child");if(H){S.show(100);var L=S.parents("li"),O=L.find(".js-ic-arrow").children(),R=L.find(".js-ic-folder").children(),P=L.find(".js-ic-folder-arrow").children(),A=O.attr("class"),V=R.attr("class"),D=P.attr("class");A&&(A=A.replace("down","up"),s(O).removeClass().addClass(A)),V&&(V=V.replace("folder","folder-open"),s(R).removeClass().addClass(V)),D&&(D=D.replace("right","down"),s(P).removeClass().addClass(D))}}}var z,M,N="off",U=[],I=!1,Q=s(".js-tooltip"),Z=s(".js-tooltip-wrap"),B=s(".js-tooltip > .st-body"),E=s(".js-balloon"),F=".js-tooltip-hover",G=300,J=500;g=a(g),"iphone"===g||"ipad"===g?s(F).on("click",function(){M=s(this).hasClass("is-on"),M?(N="off",o(N),s(F).removeClass("is-on")):(z=s(this),r(z),N="on",o(N),s(F).removeClass("is-on"),s(this).addClass("is-on"))}):(s(".js-tooltip-hover").on({mouseenter:function(){z=s(this),r(z),N="on",n(N)},mouseleave:function(){N="off",n(N)}}),Q.on({mouseenter:function(){N="on",n(N)},mouseleave:function(){N="off",n(N)}}));var K,X,Y,$,_,ss,es,ts,as,is,os,ns=0,rs=".js-popup-open",ls=".js-popup-close",cs="body > *",ds=".js-popup-open, .js-popup, .js-bookmark-open",hs=".js-popup",fs=".js-popup-arrow",us="is-on",ps="is-fixed",ms=0,vs=7,js=20;s(rs).on("click",function(){K=s(this),K.hasClass(us)?s(hs).hide(function(){s(rs+"."+us).removeClass(us)}):(s(rs+"."+us).removeClass(us),K.addClass(us),v="js-tpl",os=K.hasClass(ps),Cs.popupPosi(K,v))});var Cs={popupPosi:function(e,a){X=s(window).outerWidth(!0),Y=e.offset(),$=Y.top,$=$+e.outerHeight(!0)+7,_=e.outerWidth(!0),ss=Y.left,m=e,a=a,j=t(m,a),Cs.popupShow($,ss,j)},popupShow:function(e,t,a){s(hs+" > .st-body").removeClass("is-current"),s(hs+" > .st-body"+a).addClass("is-current"),s(hs).css({opacity:"0",display:"block"}),as=s(hs+" > .st-body"+a).outerWidth(!0),is=t+as,ts=_/2,_>as&&(ts=js),X<=is&&(es=is-X+vs,t-=es,ts+=es),t<vs&&(t=vs),ts<js&&(ts=js),os?(e-=s(window).scrollTop(),t+=s(window).scrollLeft(),s(hs+" > .st-body"+a).css({position:"",top:" ",left:"",right:"",marginTop:""}).css({position:"fixed",top:e,bottom:"auto",right:"auto",left:t}).addClass(ps)):s(hs+" > .st-body"+a).css({position:"",top:"",left:"",right:"",marginTop:""}).css({top:e,bottom:"auto",right:"auto",left:t,marginTop:-fixContentsRemoveVal+"px"}).removeClass(ps),s(fs).css("left","").css("left",ts),s(hs).fadeTo(ms,1,function(){ns++,1===ns&&s(cs).on("click",function(e){var t=s(e.target).closest(ds).length;t||(s(hs).hide(),s(rs+"."+us).removeClass(us),ns=0,s(this).off())})})}};s(ls).on("click",function(){s(hs).hide(function(){s(rs+"."+us).removeClass(us)})});var gs,K,bs=s(".js-bookmark-open"),ws=s(".js-bookmark-delete");bs.on("click",function(){gs=s(this).children("i"),K=s(this),K.hasClass(us)&&(v="js-tpl",Cs.popupPosi(K,v)),gs.removeClass("fa-star-o").addClass("fa-star"),K.addClass(us),ws.on("click",function(){gs.removeClass("fa-star").addClass("fa-star-o"),K.removeClass(us)})}),s(".js-modal-open").on("click",function(){m=s(this),v="js-tpl",j=t(m,v);var e=s(".js-modal"),a=s(".js-modal > .st-body"+j);s(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),a.addClass("is-current");var i=a.outerWidth()/2;a.css("margin-left",-i),e.show(),s(".js-cartain").show(),s(".js-modal-close, .js-cartain").on("click",function(){e.hide(),s(".js-cartain").hide()})}),s(".js-message-open").on("click",function(){m=s(this),v="js-tpl",j=t(m,v),s(".js-message > .st-body").removeClass("is-open"),s(".js-message > .st-body"+j).addClass("is-open")}),s(".js-message-close").on("click",function(){s(".js-message > .st-body").removeClass("is-open")});var ks,xs=".js-toast",ys=".js-toast-open",Ts=700,qs=4e3;s(ys).on("click",function(){m=s(this),v="js-tpl",j=t(m,v),clearTimeout(ks),s(xs+" > .st-body").hide();var e=s(xs+" > .st-body"+j).css("margin-left","").show().outerWidth(!0)/2;s(xs+" > .st-body"+j).css("margin-left",-e),ks=setTimeout(function(){s(xs+" > .st-body"+j).fadeOut(Ts)},qs),s(".js-toast-close").on("click",function(){s(xs+" > .st-body"+j).hide(),clearTimeout(ks)})}),s(".js-loader-on").on("click",function(){s(".js-loader").show()}),s(".js-loader-off").on("click",function(){s(".js-loader").hide()}),s(".js-loader-abs-on").on("click",function(){var e=s(this).offset(),t=e.top,a=e.left;s(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:t,left:a}),s(".js-loader-abs").show()}),s(".js-loader-abs-off").on("click",function(){s(".js-loader-abs").hide()}),s(".js-collapse").on("click",function(){m=s(this),v="js-collapse-parent",j=t(m,v),j=j.replace("js-collapse-parent","js-collapse-child"),s(j).slideToggle();var e=s(this).children(),a=e.attr("class");if(a.match("down"))a=a.replace("down","up"),e.removeClass().addClass(a);else{if(!a.match("up"))return!1;a=a.replace("up","down"),e.removeClass().addClass(a)}}),s(".js-collapse-slide").on("click",function(){m=s(this),v="js-collapse-slide-parent",j=t(m,v),j=j.replace("js-collapse-slide-parent","js-collapse-slide-child"),s(j).stop().animate({width:"toggle"},300);var e=s(this).children(),a=e.attr("class");if(a.match("left"))a=a.replace("left","right"),e.removeClass().addClass(a);else{if(!a.match("right"))return!1;a=a.replace("right","left"),e.removeClass().addClass(a)}}),s(".js-tab-select > li").on("click",function(){var e=s(this).parents(".js-tab"),t=s(e).find(".js-tab-select").children("li"),a=s(e).find(".js-tab-content").children("li");t.removeClass("is-current"),s(this).addClass("is-current");var i=s(this).index();a.removeClass("is-current"),a.eq(i).addClass("is-current")}),s(".js-tab-scroll-select > li").on("click",function(){var e=s(this).parents(".js-tab-scroll"),t=s(e).find(".js-tab-scroll-select").children("li"),a=s(e).find(".js-tab-scroll-content").children("li");t.removeClass("is-current"),s(this).addClass("is-current");var i=s(this).index();a.removeClass("is-current"),a.eq(i).addClass("is-current")});var Ss=s(".js-tab-scroll"),Ws=Ss.length,Hs=s(".js-tab-scroll-select"),Ls=s(".js-tab-scroll-select > li:visible"),Os="is-disabled",Rs=s(".js-tab-arrow-right"),Ps=s(".js-tab-arrow-right"),As=s(".js-tab-arrow-left"),Vs=s(".js-tab-arrow-left"),Ds=400,zs=74,Ms=!1,Ns=!1,Us=!1,Is={tabSetStart:function(){var s=Ss.outerWidth(!0),e=s-zs;Hs.width(Is.tabWidthSum());var t=Is.tabWidthSum();return e<t?(Qs=t-e,Ps.removeClass(Os),Qs):(Ps.addClass(Os),Vs.addClass(Os),Qs=0)},tabSetReset:function(){Hs.animate({left:0},0,function(){Qs=Is.tabSetStart(),Ms=!0,Vs.addClass(Os)})},tabWidthSum:function(){var e=Ls.length,t=0,a=0;return Ls.each(function(){t+=s(this).outerWidth(!0),a++,a===e&&(t+=7)}),t}};if(Ws){var Qs=Is.tabSetStart(),Zs=!1;s(window).resize(function(){Zs||clearTimeout(Zs),Zs=setTimeout(function(){Is.tabSetReset()},40)}),Rs.on("click",function(){if(Ns)return!1;Ns=!0;var s=-Qs,e=Hs.position();return e=e.left,e===s?(Ns=!1,!1):(Vs.removeClass(Os),e-=Ds,Ms===!0&&(e=-Ds,Ms=!1),e<s&&(moveDiff=e-s,e-=moveDiff),void Hs.animate({left:e},400,function(){Ns=!1,e===s&&Ps.addClass(Os)}))}),As.on("click",function(){if(Us)return!1;Us=!0;var s=0,e=Hs.position();return e=e.left,e===s?(Us=!1,!1):(Ps.removeClass(Os),e+=Ds,Ms===!0&&(e=Ds,Ms=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void Hs.animate({left:e},400,function(){Us=!1,e===s&&Vs.addClass(Os)}))})}s(".js-select-tr tr").on("click",function(){s(this).toggleClass("is-select")}),s(".js-col a").on("click",function(){var e=s(this).parents("li").index();s(".js-col-on colgroup col").removeClass("is-focus"),s(".js-col-on colgroup col").eq(e).addClass("is-focus")}),s(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var e="js-sameclass-num",a=s(this).attr("class");a&&a.match(e)&&(m=s(this),v=e,t(m,v),s(j).addClass("is-focus"))},mouseleave:function(){s(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),s(".js-check input").on("change",function(){var e=s(this).attr("class");if(e){var a=e.match("parent"),i=e.match("child");if(a){var o=s(this),n="js-check-parent-num",r=t(o,n);r=r.replace("parent","child");var l=s(this).prop("checked");l?s(r).prop("checked",!0):s(r).prop("checked",!1),Bs.trHightLight(r)}if(i){var o=s(this),n="js-check-child-num",r=t(o,n);Bs.trHightLight(r)}}});var Bs={trHightLight:function(e){s("input"+e).parents("tr").removeClass("is-highlight"),s("input"+e+":checked").parents("tr").addClass("is-highlight")}},Es=[],Fs=[];s(".js-html-show").on("click",function(){m=s(this),v="js-example-num",j=t(m,v);var e="../doc/"+j.replace(".js-example-num","")+".txt",a=j.slice(0,23).replace(".js-example-num",".js-example-tag-num"),i=s.inArray(j,Es),o=Es[Es.length-1],n=Fs[Fs.length-1];s.ajax({url:e,dataType:"text",success:function(e){var t=e.replace(/\r\n/g,"\n");i===-1?(s(a+" textarea").text("").text(t),s(a).show(300),Es=[],Es.push(j)):j!==o?(s(a+" textarea").text("").text(t),Es.push(j)):(s(a).hide(300),Es=[]),a!==n&&(s(n).hide(300),Fs=[],Fs.push(a))}})}),s(".js-nav-block a").on("click",function(){var e=s(this).parents(".js-nav-block");m=e,v="js-nav-block-select";var a=t(m,v);a=a.replace("select","content");var i=s(this).parent("li");e.find("li").removeClass("is-current"),i.addClass("is-current");var o=i.attr("class");if(o){var n=o.match("parent");n&&(m=i,v="js-nav-block-parent",j=t(m,v),j=j.replace("parent","child"),s(a).find("ul:eq(0)").children("li").hide(),s(a).find(j).fadeToggle())}});var Gs,Js,Ks,Xs,Ys=".js-pagination",$s=Ys+" li";s($s+" a").on("click",function(){m=s(this).parents(Ys),v="js-grp",j=t(m,v),Xs=j,Gs=s(this).parents("li").hasClass("js-notouch"),Gs||(s(Xs+$s).removeClass("is-current"),Js=s(this).parent("li"),Ks=Js.index(),s(Ys+Xs).each(function(){s(this).find("li").eq(Ks).addClass("is-current")}))});var _s=s("#js-promo-footer");if(_s.length){var se,ee,te,ae,ie,oe,Zs,te,ne=300,re=s("#js-promo-footer > .st-body"),le=s(".js-page-footer");Zs=!1,s(window).resize(function(){Zs||clearTimeout(Zs),Zs=setTimeout(function(){c()},40)}),le.length?s(window).scroll(function(){te=l(),d()}):s(window).scroll(function(){h()}),c()}var ce,de,he=s(".js-remover-tri"),fe=".js-remover",ue=400;he.on("click",function(){ce=s(this).parents(fe),parentNameUl=ce.get(0).tagName,"UL"===parentNameUl&&(de=s(this).parents("li"),de.addClass("is-remove"),ce.find(".is-remove").hide(ue))});var pe=s(".js-numCounter");if(pe.length){var me=0,ve=2e3;f()}var ce,je=s(".js-state-current"),Ce=".js-state-current",ge=s(Ce+" a"),be="is-current";je.length&&s(ge).on("click",function(){ce=s(this).parents(Ce),thisParentList=s(this).parent("li"),ce.find("."+be).removeClass(be),thisParentList.length?thisParentList.addClass(be):s(this).addClass(be)});var we,ke,xe,ye,Te=s("#js-ellipsis"),qe=s(".js-ellipsis"),Se="…";Te.length&&s(qe).each(function(){if(m=s(this),v="js-limit-txt",j=t(m,v),j=j.replace(".js-limit-txt",""),we=parseInt(j),ke=s(this).text(),ye=i(ke),xe=0,ye){for(var e=0;e<ke.length;e++)if(ke.charCodeAt(e)<=255,xe+=1,xe>we){ke=ke.substr(0,e)+Se;break}}else for(var e=0;e<ke.length;e++)if(xe+=ke.charCodeAt(e)<=255?.5:1,xe>we){ke=ke.substr(0,e)+Se;break}s(this).text(ke)});var We=".js-clone",He=".js-clone-tri",Le=".js-clone-target";s(He+" a").on("click",function(){We=s(this).parents(We),Le=We.find(Le).clone(!0),He=We.find(He),He.before(Le)});var Oe=s(".js-aside-main-open");if(Oe.length){var Re=0,Pe=s(".js-aside-main"),Ae=".js-aside-main, .js-aside-remove";Oe.on("click",function(){Re++,1===Re&&(Pe.addClass("is-transition").delay(500).addClass("is-open"),s(document).on("click",function(e){s(e.target).closest(Ae).length||u()})),2===Re&&u()})}var Ve=0;s(".js-nav-slide-open").on("click",function(){Ve++,1===Ve&&(s(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),s(".js-page-contents:not(.js-nav-slide)").on("click",function(){s(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Ve=0,s(this).off()})),2===Ve&&(s(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Ve=0)})}(jQuery);