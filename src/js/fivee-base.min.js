/*! ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee-base
 * ver.1.6.5 / 2016.6.20
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ !*/
!function(s){function e(){var e=0,t=0;return u.each(function(){e+=s(this).outerHeight(!0),t++}),e}function t(e,t){return j=s(e).attr("class"),j=j.split(" "),j=s.grep(j,function(s,e){return s.indexOf(t)>=0}),v="."+j}function a(s){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("iphone")>-1,a=e.indexOf("ipad")>-1,i=e.indexOf("android")>-1&&e.indexOf("mobile")>-1,o=e.indexOf("android")>-1&&-1==e.indexOf("mobile");return t&&(s="iphone"),a&&(s="ipad"),i&&(s="android"),o&&(s="androidTablet"),s}function i(s){return s.match(/[^A-Za-z0-9]+/)?!1:!0}function o(e){N.push(e),U!==!1&&clearTimeout(U),U=setTimeout(function(){var e=N[N.length-1];return"off"!==e?!1:(I.hide(F,function(){s(this).removeClass("is-show"),Z.css({top:0,left:0,marginTop:""})}),void(N=[]))},0)}function n(e){N.push(e),U!==!1&&clearTimeout(U),U=setTimeout(function(){var e=N[N.length-1];return"off"!==e?!1:(I.hide(F,function(){s(this).removeClass("is-show"),Z.css({top:0,left:0,marginTop:""})}),void(N=[]))},G)}function r(e){var t=e.offset(),a=s(window).outerWidth(!0),i=t.top,o=t.left,n=e.find(".js-tooltip-key").text();Q.text("").text(n),I.show();var r=Q.outerWidth(!0),l=Q.outerHeight(!0),c=r+o,d=c-a;B.css("margin-left",""),c>a&&(o-=d,B.css("margin-left",d)),Z.css({top:i-l-7,left:o,marginTop:-fixContentsRemoveVal+"px"}),I.addClass("is-show")}function l(){return se=re.offset(),ee=s(document).outerHeight()-se.top}function c(){te=s(document).outerHeight(),ae=window.innerHeight,ie=te-ae,_s=ie-s(window).scrollTop(),re.length?(ee=l(),d()):f()}function d(){_s=ie-s(window).scrollTop(),ee>=_s&&(_s=ee),ne.stop().animate({bottom:_s},oe)}function f(){_s=ie-s(window).scrollTop(),ne.stop().animate({bottom:_s},oe)}function h(){ue.each(function(){var e=s(this).text();e>pe&&s(this).animate({count:e},{duration:me,easing:"linear",progress:function(){s(this).text(Math.ceil(this.count))},queue:!1})})}var u=s(".js-posi-remove");u.length?fixContentsRemoveVal=e():fixContentsRemoveVal=0;var p,m,v,j,C;s(window).scroll(function(){var e=s(document).scrollTop(),t=s(".js-scrolltop");e>600?t.fadeIn(600):t.fadeOut(400)}),s("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=s(this.hash);e=e.length?e:s("[name="+this.hash.slice(1)+"]");var t=e.offset();if(e.length)return s("html,body").animate({scrollTop:t.top-fixContentsRemoveVal},1e3),!1}}),s("#js-pageTop").on("click",function(){s("html,body").animate({scrollTop:0},1e3)});var g=s("#js-eql");if(g.length){var b=s(".js-eql-width"),w=s(".js-eql-height");if(b.length){var k=[];if(b){s(b).each(function(e){var t=s(b).eq(e).outerWidth(!0);k.push(t)});var x=Math.max.apply(null,k);s(b).width(x)}}if(w.length){var y=[];if(w){s(w).each(function(e){var t=s(w).eq(e).outerHeight(!0);y.push(t)});var x=Math.max.apply(null,y);s(w).height(x)}}}s(".js-nav-main a").on("click",function(){var e=s(this).parents(".js-nav-main"),a=s(this).parent("li"),i=a.attr("class");if(i){var o=i.match("parent");if(o){p=a,m="js-nav-main-parent",v=t(p,m),v=v.replace("parent","child");var n=s(this).find(".js-ic-arrow").children(),r=s(this).find(".js-ic-folder").children(),l=s(this).find(".js-ic-folder-arrow").children(),c=n.attr("class"),d=r.attr("class"),f=l.attr("class"),h=e.find(v).is(":visible");h?(e.find(v).hide(100),a.removeClass("is-open"),c&&(c=c.replace("up","down"),s(n).removeClass().addClass(c)),d&&(d=d.replace("folder-open","folder"),s(r).removeClass().addClass(d)),f&&(f=f.replace("down","right"),s(l).removeClass().addClass(f))):(e.find(v).show(300),a.addClass("is-open"),c&&(c=c.replace("down","up"),s(n).removeClass().addClass(c)),d&&(d=d.replace("folder","folder-open"),s(r).removeClass().addClass(d)),f&&(f=f.replace("right","down"),s(l).removeClass().addClass(f)))}}else e.find("li").removeClass("is-current"),a.addClass("is-current")});var T=s(".js-nav-main");if(T.length){var q=s(".js-nav-main .is-current").parents("ul");q.parent("li").addClass("is-open");var S=q.attr("class");if(S){var W=S.match("child");if(W){q.show(100);var H=q.parents("li"),L=H.find(".js-ic-arrow").children(),O=H.find(".js-ic-folder").children(),R=H.find(".js-ic-folder-arrow").children(),P=L.attr("class"),A=O.attr("class"),V=R.attr("class");P&&(P=P.replace("down","up"),s(L).removeClass().addClass(P)),A&&(A=A.replace("folder","folder-open"),s(O).removeClass().addClass(A)),V&&(V=V.replace("right","down"),s(R).removeClass().addClass(V))}}}var D,z,M="off",N=[],U=!1,I=s(".js-tooltip"),Q=s(".js-tooltip-wrap"),Z=s(".js-tooltip > .st-body"),B=s(".js-balloon"),E=".js-tooltip-hover",F=300,G=500;C=a(C),"iphone"===C||"ipad"===C?s(E).on("click",function(){z=s(this).hasClass("is-on"),z?(M="off",o(M),s(E).removeClass("is-on")):(D=s(this),r(D),M="on",o(M),s(E).removeClass("is-on"),s(this).addClass("is-on"))}):(s(".js-tooltip-hover").on({mouseenter:function(){D=s(this),r(D),M="on",n(M)},mouseleave:function(){M="off",n(M)}}),I.on({mouseenter:function(){M="on",n(M)},mouseleave:function(){M="off",n(M)}}));var J,K,X,Y,$,_,ss,es,ts,as,is,os=0,ns=".js-popup-open",rs=".js-popup-close",ls="body > *",cs=".js-popup-open, .js-popup, .js-bookmark-open",ds=".js-popup",fs=".js-popup-arrow",hs="is-on",us="is-fixed",ps=0,ms=7,vs=20;s(ns).on("click",function(){J=s(this),J.hasClass(hs)?s(ds).hide(function(){s(ns+"."+hs).removeClass(hs)}):(s(ns+"."+hs).removeClass(hs),J.addClass(hs),m="js-tpl",is=J.hasClass(us),js.popupPosi(J,m))});var js={popupPosi:function(e,a){K=s(window).outerWidth(!0),X=e.offset(),Y=X.top,Y=Y+e.outerHeight(!0)+7,$=e.outerWidth(!0),_=X.left,p=e,a=a,v=t(p,a),js.popupShow(Y,_,v)},popupShow:function(e,t,a){s(ds+" > .st-body").removeClass("is-current"),s(ds+" > .st-body"+a).addClass("is-current"),s(ds).css({opacity:"0",display:"block"}),ts=s(ds+" > .st-body"+a).outerWidth(!0),as=t+ts,es=$/2,$>ts&&(es=vs),as>=K&&(ss=as-K+ms,t-=ss,es+=ss),ms>t&&(t=ms),vs>es&&(es=vs),is?(e-=s(window).scrollTop(),t+=s(window).scrollLeft(),s(ds+" > .st-body"+a).css({position:"",top:" ",left:"",right:"",marginTop:""}).css({position:"fixed",top:e,bottom:"auto",right:"auto",left:t}).addClass(us)):s(ds+" > .st-body"+a).css({position:"",top:"",left:"",right:"",marginTop:""}).css({top:e,bottom:"auto",right:"auto",left:t,marginTop:-fixContentsRemoveVal+"px"}).removeClass(us),s(fs).css("left","").css("left",es),s(ds).fadeTo(ps,1,function(){os++,1===os&&s(ls).on("click",function(e){var t=s(e.target).closest(cs).length;t||(s(ds).hide(),s(ns+"."+hs).removeClass(hs),os=0,s(this).off())})})}};s(rs).on("click",function(){s(ds).hide(function(){s(ns+"."+hs).removeClass(hs)})});var Cs,J,gs=s(".js-bookmark-open"),bs=s(".js-bookmark-delete");gs.on("click",function(){Cs=s(this).children("i"),J=s(this),J.hasClass(hs)&&(m="js-tpl",js.popupPosi(J,m)),Cs.removeClass("fa-star-o").addClass("fa-star"),J.addClass(hs),bs.on("click",function(){Cs.removeClass("fa-star").addClass("fa-star-o"),J.removeClass(hs)})}),s(".js-modal-open").on("click",function(){p=s(this),m="js-tpl",v=t(p,m);var e=s(".js-modal"),a=s(".js-modal > .st-body"+v);s(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),a.addClass("is-current");var i=a.outerWidth()/2;a.css("margin-left",-i),e.show(),s(".js-cartain").show(),s(".js-modal-close, .js-cartain").on("click",function(){e.hide(),s(".js-cartain").hide()})}),s(".js-message-open").on("click",function(){p=s(this),m="js-tpl",v=t(p,m),s(".js-message > .st-body").removeClass("is-open"),s(".js-message > .st-body"+v).addClass("is-open")}),s(".js-message-close").on("click",function(){s(".js-message > .st-body").removeClass("is-open")});var ws,ks=".js-toast",xs=".js-toast-open",ys=700,Ts=4e3;s(xs).on("click",function(){p=s(this),m="js-tpl",v=t(p,m),clearTimeout(ws),s(ks+" > .st-body").hide();var e=s(ks+" > .st-body"+v).css("margin-left","").show().outerWidth(!0)/2;s(ks+" > .st-body"+v).css("margin-left",-e),ws=setTimeout(function(){s(ks+" > .st-body"+v).fadeOut(ys)},Ts),s(".js-toast-close").on("click",function(){s(ks+" > .st-body"+v).hide(),clearTimeout(ws)})}),s(".js-loader-on").on("click",function(){s(".js-loader").show()}),s(".js-loader-off").on("click",function(){s(".js-loader").hide()}),s(".js-loader-abs-on").on("click",function(){var e=s(this).offset(),t=e.top,a=e.left;s(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:t,left:a}),s(".js-loader-abs").show()}),s(".js-loader-abs-off").on("click",function(){s(".js-loader-abs").hide()}),s(".js-collapse").on("click",function(){p=s(this),m="js-collapse-parent",v=t(p,m),v=v.replace("js-collapse-parent","js-collapse-child"),s(v).slideToggle();var e=s(this).children(),a=e.attr("class");if(a.match("down"))a=a.replace("down","up"),e.removeClass().addClass(a);else{if(!a.match("up"))return!1;a=a.replace("up","down"),e.removeClass().addClass(a)}}),s(".js-collapse-slide").on("click",function(){p=s(this),m="js-collapse-slide-parent",v=t(p,m),v=v.replace("js-collapse-slide-parent","js-collapse-slide-child"),s(v).stop().animate({width:"toggle"},300);var e=s(this).children(),a=e.attr("class");if(a.match("left"))a=a.replace("left","right"),e.removeClass().addClass(a);else{if(!a.match("right"))return!1;a=a.replace("right","left"),e.removeClass().addClass(a)}}),s(".js-tab-select > li").on("click",function(){var e=s(this).parents(".js-tab"),t=s(e).find(".js-tab-select").children("li"),a=s(e).find(".js-tab-content").children("li");t.removeClass("is-current"),s(this).addClass("is-current");var i=s(this).index();a.removeClass("is-current"),a.eq(i).addClass("is-current")}),s(".js-tab-scroll-select > li").on("click",function(){var e=s(this).parents(".js-tab-scroll"),t=s(e).find(".js-tab-scroll-select").children("li"),a=s(e).find(".js-tab-scroll-content").children("li");t.removeClass("is-current"),s(this).addClass("is-current");var i=s(this).index();a.removeClass("is-current"),a.eq(i).addClass("is-current")});var qs=s(".js-tab-scroll"),Ss=qs.length,Ws=s(".js-tab-scroll-select"),Hs=s(".js-tab-scroll-select > li:visible"),Ls="is-disabled",Os=s(".js-tab-arrow-right"),Rs=s(".js-tab-arrow-right"),Ps=s(".js-tab-arrow-left"),As=s(".js-tab-arrow-left"),Vs=400,Ds=74,zs=!1,Ms=!1,Ns=!1,Us={tabSetStart:function(){var s=qs.outerWidth(!0),e=s-Ds;Ws.width(Us.tabWidthSum());var t=Us.tabWidthSum();return t>e?(Is=t-e,Rs.removeClass(Ls),Is):(Rs.addClass(Ls),As.addClass(Ls),Is=0)},tabSetReset:function(){Ws.animate({left:0},0,function(){Is=Us.tabSetStart(),zs=!0,As.addClass(Ls)})},tabWidthSum:function(){var e=Hs.length,t=0,a=0;return Hs.each(function(){t+=s(this).outerWidth(!0),a++,a===e&&(t+=7)}),t}};if(Ss){var Is=Us.tabSetStart(),Qs=!1;s(window).resize(function(){Qs||clearTimeout(Qs),Qs=setTimeout(function(){Us.tabSetReset()},40)}),Os.on("click",function(){if(Ms)return!1;Ms=!0;var s=-Is,e=Ws.position();return e=e.left,e===s?(Ms=!1,!1):(As.removeClass(Ls),e-=Vs,zs===!0&&(e=-Vs,zs=!1),s>e&&(moveDiff=e-s,e-=moveDiff),void Ws.animate({left:e},400,function(){Ms=!1,e===s&&Rs.addClass(Ls)}))}),Ps.on("click",function(){if(Ns)return!1;Ns=!0;var s=0,e=Ws.position();return e=e.left,e===s?(Ns=!1,!1):(Rs.removeClass(Ls),e+=Vs,zs===!0&&(e=Vs,zs=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void Ws.animate({left:e},400,function(){Ns=!1,e===s&&As.addClass(Ls)}))})}s(".js-select-tr tr").on("click",function(){s(this).toggleClass("is-select")}),s(".js-col a").on("click",function(){var e=s(this).parents("li").index();s(".js-col-on colgroup col").removeClass("is-focus"),s(".js-col-on colgroup col").eq(e).addClass("is-focus")}),s(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var e="js-sameclass-num",a=s(this).attr("class");a&&a.match(e)&&(p=s(this),m=e,t(p,m),s(v).addClass("is-focus"))},mouseleave:function(){s(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),s(".js-check input").on("change",function(){var e=s(this).attr("class");if(e){var a=e.match("parent"),i=e.match("child");if(a){var o=s(this),n="js-check-parent-num",r=t(o,n);r=r.replace("parent","child");var l=s(this).prop("checked");l?s(r).prop("checked",!0):s(r).prop("checked",!1),Zs.trHightLight(r)}if(i){var o=s(this),n="js-check-child-num",r=t(o,n);Zs.trHightLight(r)}}});var Zs={trHightLight:function(e){s("input"+e).parents("tr").removeClass("is-highlight"),s("input"+e+":checked").parents("tr").addClass("is-highlight")}},Bs=[],Es=[];s(".js-html-show").on("click",function(){p=s(this),m="js-example-num",v=t(p,m);var e="../doc/"+v.replace(".js-example-num","")+".txt",a=v.slice(0,23).replace(".js-example-num",".js-example-tag-num"),i=s.inArray(v,Bs),o=Bs[Bs.length-1],n=Es[Es.length-1];s.ajax({url:e,dataType:"text",success:function(e){var t=e.replace(/\r\n/g,"\n");-1===i?(s(a+" textarea").text("").text(t),s(a).show(300),Bs=[],Bs.push(v)):v!==o?(s(a+" textarea").text("").text(t),Bs.push(v)):(s(a).hide(300),Bs=[]),a!==n&&(s(n).hide(300),Es=[],Es.push(a))}})}),s(".js-nav-block a").on("click",function(){var e=s(this).parents(".js-nav-block");p=e,m="js-nav-block-select";var a=t(p,m);a=a.replace("select","content");var i=s(this).parent("li");e.find("li").removeClass("is-current"),i.addClass("is-current");var o=i.attr("class");if(o){var n=o.match("parent");n&&(p=i,m="js-nav-block-parent",v=t(p,m),v=v.replace("parent","child"),s(a).find("ul:eq(0)").children("li").hide(),s(a).find(v).fadeToggle())}});var Fs,Gs,Js,Ks,Xs=".js-pagination",Ys=Xs+" li";s(Ys+" a").on("click",function(){p=s(this).parents(Xs),m="js-grp",v=t(p,m),Ks=v,Fs=s(this).parents("li").hasClass("js-notouch"),Fs||(s(Ks+Ys).removeClass("is-current"),Gs=s(this).parent("li"),Js=Gs.index(),s(Xs+Ks).each(function(){s(this).find("li").eq(Js).addClass("is-current")}))});var $s=s("#js-promo-footer");if($s.length){var _s,se,ee,te,ae,ie,Qs,ee,oe=300,ne=s("#js-promo-footer > .st-body"),re=s(".js-page-footer");Qs=!1,s(window).resize(function(){Qs||clearTimeout(Qs),Qs=setTimeout(function(){c()},40)}),re.length?s(window).scroll(function(){ee=l(),d()}):s(window).scroll(function(){f()}),c()}var le,ce,de=s(".js-remover-tri"),fe=".js-remover",he=400;de.on("click",function(){le=s(this).parents(fe),parentNameUl=le.get(0).tagName,"UL"===parentNameUl&&(ce=s(this).parents("li"),ce.addClass("is-remove"),le.find(".is-remove").hide(he))});var ue=s(".js-numCounter");if(ue.length){var pe=0,me=2e3;h()}var le,ve=s(".js-state-current"),je=".js-state-current",Ce=s(je+" a"),ge="is-current";ve.length&&s(Ce).on("click",function(){le=s(this).parents(je),thisParentList=s(this).parent("li"),le.find("."+ge).removeClass(ge),thisParentList.length?thisParentList.addClass(ge):s(this).addClass(ge)});var be,we,ke,xe,ye=s("#js-ellipsis"),Te=s(".js-ellipsis"),qe="…";ye.length&&s(Te).each(function(){if(p=s(this),m="js-limit-txt",v=t(p,m),v=v.replace(".js-limit-txt",""),be=parseInt(v),we=s(this).text(),xe=i(we),ke=0,xe){for(var e=0;e<we.length;e++)if(we.charCodeAt(e)<=255,ke+=1,ke>be){we=we.substr(0,e)+qe;break}}else for(var e=0;e<we.length;e++)if(ke+=we.charCodeAt(e)<=255?.5:1,ke>be){we=we.substr(0,e)+qe;break}s(this).text(we)});var Se=".js-clone",We=".js-clone-tri",He=".js-clone-target";s(We+" a").on("click",function(){Se=s(this).parents(Se),He=Se.find(He).clone(!0),We=Se.find(We),We.before(He)});var Le=0;s(".js-aside-main-open").on("click",function(){Le++,1===Le&&(s(".js-aside-main").addClass("is-transition").delay(500).addClass("is-open"),s(".js-page-contents:not(.js-aside-main)").on("click",function(){s(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Le=0,s(this).off()})),2===Le&&(s(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Le=0)});var Oe=0;s(".js-nav-slide-open").on("click",function(){Oe++,1===Oe&&(s(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),s(".js-page-contents:not(.js-nav-slide)").on("click",function(){s(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Oe=0,s(this).off()})),2===Oe&&(s(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){s(this).removeClass("is-transition").dequeue()}),Oe=0)})}(jQuery);