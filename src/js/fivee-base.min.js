/*! ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee-base
 * ver.1.5.8 / 2016.4.11
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ !*/
$(function(){function s(){var s=0,e=0;return c.each(function(){s+=$(this).outerHeight(!0),e++}),s}function e(s,e){return h=$(s).attr("class"),h=h.split(" "),h=$.grep(h,function(s,t){return s.indexOf(e)>=0}),f="."+h}function t(s){V.push(s),D!==!1&&clearTimeout(D),D=setTimeout(function(){var s=V[V.length-1];return"off"!==s?!1:(M.hide(300,function(){$(this).removeClass("is-show"),O.css({top:0,left:0,marginTop:""})}),void(V=[]))},500)}function a(s){var e=s.offset(),t=$(window).outerWidth(!0),a=e.top,o=e.left,i=s.find(".js-tooltip-key").text();N.text("").text(i),M.show();var n=N.outerWidth(!0),l=N.outerHeight(!0),r=n+o,c=r-t;P.css("margin-left",""),r>t&&(o-=c,P.css("margin-left",c)),O.css({top:a-l-7,left:o,marginTop:-fixContentsRemoveVal+"px"}),M.addClass("is-show")}function o(){return Bs=Xs.offset(),Es=$(document).outerHeight()-Bs.top}function i(){Fs=$(document).outerHeight(),Gs=$(window).outerHeight(),Js=Fs-Gs,Is=Js-$(window).scrollTop(),Xs.length?(Es=o(),n()):l()}function n(){Is=Js-$(window).scrollTop(),Es>=Is&&(Is=Es),Qs.stop().animate({bottom:Is},Ks)}function l(){Is=Js-$(window).scrollTop(),Qs.stop().animate({bottom:Is},Ks)}function r(){te.each(function(){var s=$(this).text();s>ae&&$(this).animate({count:s},{duration:oe,easing:"linear",progress:function(){$(this).text(Math.ceil(this.count))},queue:!1})})}var c=$(".js-posi-remove");c.length?fixContentsRemoveVal=s():fixContentsRemoveVal=0;var d,u,f,h;$(window).scroll(function(){var s=$(document).scrollTop(),e=$(".js-scrolltop");s>600?e.fadeIn(600):e.fadeOut(400)}),$("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=$(this.hash);s=s.length?s:$("[name="+this.hash.slice(1)+"]");var e=s.offset();if(s.length)return $("html,body").animate({scrollTop:e.top-fixContentsRemoveVal},1e3),!1}}),$("#js-pageTop").on("click",function(){$("html,body").animate({scrollTop:0},1e3)});var p=$("#js-eql");if(p.length){var m=$(".js-eql-width"),v=$(".js-eql-height");if(m.length){var j=[];if(m){$(m).each(function(s){var e=$(m).eq(s).outerWidth(!0);j.push(e)});var C=Math.max.apply(null,j);$(m).width(C)}}if(v.length){var g=[];if(v){$(v).each(function(s){var e=$(v).eq(s).outerHeight(!0);g.push(e)});var C=Math.max.apply(null,g);$(v).height(C)}}}$(".js-nav-main a").on("click",function(){var s=$(this).parents(".js-nav-main"),t=$(this).parent("li"),a=t.attr("class");if(a){var o=a.match("parent");if(o){d=t,u="js-nav-main-parent",f=e(d,u),f=f.replace("parent","child");var i=$(this).find(".js-ic-arrow").children(),n=$(this).find(".js-ic-folder").children(),l=$(this).find(".js-ic-folder-arrow").children(),r=i.attr("class"),c=n.attr("class"),h=l.attr("class"),p=s.find(f).is(":visible");p?(s.find(f).hide(100),t.removeClass("is-open"),r&&(r=r.replace("up","down"),$(i).removeClass().addClass(r)),c&&(c=c.replace("folder-open","folder"),$(n).removeClass().addClass(c)),h&&(h=h.replace("down","right"),$(l).removeClass().addClass(h))):(s.find(f).show(300),t.addClass("is-open"),r&&(r=r.replace("down","up"),$(i).removeClass().addClass(r)),c&&(c=c.replace("folder","folder-open"),$(n).removeClass().addClass(c)),h&&(h=h.replace("right","down"),$(l).removeClass().addClass(h)))}}else s.find("li").removeClass("is-current"),t.addClass("is-current")});var w=$(".js-nav-main");if(w.length){var b=$(".js-nav-main .is-current").parents("ul");b.parent("li").addClass("is-open");var k=b.attr("class");if(k){var x=k.match("child");if(x){b.show(100);var T=b.parents("li"),y=T.find(".js-ic-arrow").children(),q=T.find(".js-ic-folder").children(),S=T.find(".js-ic-folder-arrow").children(),W=y.attr("class"),H=q.attr("class"),R=S.attr("class");W&&(W=W.replace("down","up"),$(y).removeClass().addClass(W)),H&&(H=H.replace("folder","folder-open"),$(q).removeClass().addClass(H)),R&&(R=R.replace("right","down"),$(S).removeClass().addClass(R))}}}var L="off",V=[],D=!1,M=$(".js-tooltip"),N=$(".js-tooltip-wrap"),O=$(".js-tooltip > .st-body"),P=$(".js-balloon");$(".js-tooltip-hover").on({mouseenter:function(){var s=$(this);a(s),L="on",t(L)},mouseleave:function(){L="off",t(L)}}),M.on({mouseenter:function(){L="on",t(L)},mouseleave:function(){L="off",t(L)}});var U,z,A,I,B,E,F,G,J,K,Q,X=0,Y=".js-popup-open",Z=".js-popup-close",_=".js-popup-open, .js-popup, .js-bookmark-open",ss=".js-popup",es=".js-popup-arrow",ts="is-on",as="is-fixed",os=0,is=7,ns=20;$(Y).on("click",function(){U=$(this),U.hasClass(ts)?$(ss).hide(function(){$(Y+"."+ts).removeClass(ts)}):($(Y+"."+ts).removeClass(ts),U.addClass(ts),u="js-tpl",Q=U.hasClass(as),ls.popupPosi(U,u))});var ls={popupPosi:function(s,t){z=$(window).outerWidth(!0),A=s.offset(),I=A.top,I=I+s.outerHeight(!0)+7,B=s.outerWidth(!0),E=A.left,d=s,t=t,f=e(d,t),ls.popupShow(I,E,f)},popupShow:function(s,e,t){$(ss+" > .st-body").removeClass("is-current"),$(ss+" "+t).addClass("is-current"),$(ss).css({opacity:"0",display:"block"}),J=$(ss+" "+t).outerWidth(!0),K=e+J,G=B/2,B>J&&(G=ns),K>=z&&(F=K-z+is,e-=F,G+=F),is>e&&(e=is),ns>G&&(G=ns),Q?(s-=$(window).scrollTop(),e+=$(window).scrollLeft(),$(ss+" "+t).css({position:"",top:" ",left:"",right:"",marginTop:""}).css({position:"fixed",top:s,bottom:"auto",right:"auto",left:e}).addClass(as)):$(ss+" "+t).css({position:"",top:"",left:"",right:"",marginTop:""}).css({top:s,bottom:"auto",right:"auto",left:e,marginTop:-fixContentsRemoveVal+"px"}).removeClass(as),$(es).css("left","").css("left",G),$(ss).fadeTo(os,1,function(){X++,1===X&&$(document).on("click",function(s){var e=$(s.target).closest(_).length;return e||($(ss).hide(),$(Y+"."+ts).removeClass(ts),X=0,$(this).off()),!1})})}};$(Z).on("click",function(){$(ss).hide(function(){$(Y+"."+ts).removeClass(ts)})});var rs,U,cs=$(".js-bookmark-open"),ds=$(".js-bookmark-delete");cs.on("click",function(){rs=$(this).children("i"),U=$(this),U.hasClass(ts)&&(u="js-tpl",ls.popupPosi(U,u)),rs.removeClass("fa-star-o").addClass("fa-star"),U.addClass(ts),ds.on("click",function(){rs.removeClass("fa-star").addClass("fa-star-o"),U.removeClass(ts)})}),$(".js-modal-open").on("click",function(){d=$(this),u="js-tpl",f=e(d,u);var s=$(".js-modal"),t=$(".js-modal "+f);$(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),t.addClass("is-current");var a=t.outerWidth()/2;t.css("margin-left",-a),s.show(),$(".js-cartain").show(),$(".js-modal-close, .js-cartain").on("click",function(){s.hide(),$(".js-cartain").hide()})}),$(".js-message-open").on("click",function(){d=$(this),u="js-tpl",f=e(d,u),$(".js-message > .st-body").removeClass("is-open"),$(".js-message > "+f).addClass("is-open")}),$(".js-message-close").on("click",function(){$(".js-message > .st-body").removeClass("is-open")});var us,fs=".js-toast",hs=".js-toast-open",ps=700,$s=4e3;$(hs).on("click",function(){d=$(this),u="js-tpl",f=e(d,u),clearTimeout(us),$(fs+" > .st-body").hide();var s=$(fs+" > "+f).css("margin-left","").show().outerWidth(!0)/2;$(fs+" > "+f).css("margin-left",-s),us=setTimeout(function(){$(fs+" > "+f).fadeOut(ps)},$s),$(".js-toast-close").on("click",function(){$(fs+" > "+f).hide(),clearTimeout(us)})}),$(".js-loader-on").on("click",function(){$(".js-loader").show()}),$(".js-loader-off").on("click",function(){$(".js-loader").hide()}),$(".js-loader-abs-on").on("click",function(){var s=$(this).offset(),e=s.top,t=s.left;$(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:e,left:t}),$(".js-loader-abs").show()}),$(".js-loader-abs-off").on("click",function(){$(".js-loader-abs").hide()}),$(".js-collapse").on("click",function(){d=$(this),u="js-collapse-parent",f=e(d,u),f=f.replace("js-collapse-parent","js-collapse-child"),$(f).slideToggle();var s=$(this).children(),t=s.attr("class");if(t.match("down"))t=t.replace("down","up"),s.removeClass().addClass(t);else{if(!t.match("up"))return!1;t=t.replace("up","down"),s.removeClass().addClass(t)}}),$(".js-collapse-slide").on("click",function(){d=$(this),u="js-collapse-slide-parent",f=e(d,u),f=f.replace("js-collapse-slide-parent","js-collapse-slide-child"),$(f).stop().animate({width:"toggle"},300);var s=$(this).children(),t=s.attr("class");if(t.match("left"))t=t.replace("left","right"),s.removeClass().addClass(t);else{if(!t.match("right"))return!1;t=t.replace("right","left"),s.removeClass().addClass(t)}}),$(".js-tab-select > li").on("click",function(){var s=$(this).parents(".js-tab"),e=$(s).find(".js-tab-select").children("li"),t=$(s).find(".js-tab-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")}),$(".js-tab-scroll-select > li").on("click",function(){var s=$(this).parents(".js-tab-scroll"),e=$(s).find(".js-tab-scroll-select").children("li"),t=$(s).find(".js-tab-scroll-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")});var ms=$(".js-tab-scroll"),vs=ms.length,js=$(".js-tab-scroll-select"),Cs=$(".js-tab-scroll-select > li:visible"),gs="is-disabled",ws=$(".js-tab-arrow-right"),bs=$(".js-tab-arrow-right"),ks=$(".js-tab-arrow-left"),xs=$(".js-tab-arrow-left"),Ts=400,ys=74,qs=!1,Ss=!1,Ws=!1,Hs={tabSetStart:function(){var s=ms.outerWidth(!0),e=s-ys;js.width(Hs.tabWidthSum());var t=Hs.tabWidthSum();return t>e?(Rs=t-e,bs.removeClass(gs),Rs):(bs.addClass(gs),xs.addClass(gs),Rs=0)},tabSetReset:function(){js.animate({left:0},0,function(){Rs=Hs.tabSetStart(),qs=!0,xs.addClass(gs)})},tabWidthSum:function(){var s=Cs.length,e=0,t=0;return Cs.each(function(){e+=$(this).outerWidth(!0),t++,t===s&&(e+=7)}),e}};if(vs){var Rs=Hs.tabSetStart(),Ls=!1;$(window).resize(function(){Ls||clearTimeout(Ls),Ls=setTimeout(function(){Hs.tabSetReset()},40)}),ws.on("click",function(){if(Ss)return!1;Ss=!0;var s=-Rs,e=js.position();return e=e.left,e===s?(Ss=!1,!1):(xs.removeClass(gs),e-=Ts,qs===!0&&(e=-Ts,qs=!1),s>e&&(moveDiff=e-s,e-=moveDiff),void js.animate({left:e},400,function(){Ss=!1,e===s&&bs.addClass(gs)}))}),ks.on("click",function(){if(Ws)return!1;Ws=!0;var s=0,e=js.position();return e=e.left,e===s?(Ws=!1,!1):(bs.removeClass(gs),e+=Ts,qs===!0&&(e=Ts,qs=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void js.animate({left:e},400,function(){Ws=!1,e===s&&xs.addClass(gs)}))})}$(".js-select-tr tr").on("click",function(){$(this).toggleClass("is-select")}),$(".js-col a").on("click",function(){var s=$(this).parents("li").index();$(".js-col-on colgroup col").removeClass("is-focus"),$(".js-col-on colgroup col").eq(s).addClass("is-focus")}),$(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var s="js-sameclass-num",t=$(this).attr("class");t&&t.match(s)&&(d=$(this),u=s,e(d,u),$(f).addClass("is-focus"))},mouseleave:function(){$(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),$(".js-check input").on("change",function(){var s=$(this).attr("class");if(s){var t=s.match("parent"),a=s.match("child");if(t){var o=$(this),i="js-check-parent-num",n=e(o,i);n=n.replace("parent","child");var l=$(this).prop("checked");l?$(n).prop("checked",!0):$(n).prop("checked",!1),Vs.trHightLight(n)}if(a){var o=$(this),i="js-check-child-num",n=e(o,i);Vs.trHightLight(n)}}});var Vs={trHightLight:function(s){$("input"+s).parents("tr").removeClass("is-highlight"),$("input"+s+":checked").parents("tr").addClass("is-highlight")}},Ds=[],Ms=[];$(".js-html-show").on("click",function(){d=$(this),u="js-example-num",f=e(d,u);var s="../doc/"+f.replace(".js-example-num","")+".txt",t=f.slice(0,23).replace(".js-example-num",".js-example-tag-num"),a=$.inArray(f,Ds),o=Ds[Ds.length-1],i=Ms[Ms.length-1];$.ajax({url:s,dataType:"text",success:function(s){var e=s.replace(/\r\n/g,"\n");-1===a?($(t+" textarea").text("").text(e),$(t).show(300),Ds=[],Ds.push(f)):f!==o?($(t+" textarea").text("").text(e),Ds.push(f)):($(t).hide(300),Ds=[]),t!==i&&($(i).hide(300),Ms=[],Ms.push(t))}})}),$(".js-nav-block a").on("click",function(){var s=$(this).parents(".js-nav-block");d=s,u="js-nav-block-select";var t=e(d,u);t=t.replace("select","content");var a=$(this).parent("li");s.find("li").removeClass("is-current"),a.addClass("is-current");var o=a.attr("class");if(o){var i=o.match("parent");i&&(d=a,u="js-nav-block-parent",f=e(d,u),f=f.replace("parent","child"),$(t).find("ul:eq(0)").children("li").hide(),$(t).find(f).fadeToggle())}});var Ns,Os,Ps,Us=".js-pagination",zs=Us+" li";$(zs+" a").on("click",function(){Ns=$(this).parents("li").hasClass("js-notouch"),Ns||($(zs).removeClass("is-current"),Os=$(this).parent("li"),Ps=Os.index(),$(Us).each(function(){$(this).find("li").eq(Ps).addClass("is-current")}))});var As=$("#js-promo-footer");if(As.length){var Is,Bs,Es,Fs,Gs,Js,Ls,Es,Ks=300,Qs=$("#js-promo-footer > .st-body"),Xs=$(".js-page-footer");Ls=!1,$(window).resize(function(){Ls||clearTimeout(Ls),Ls=setTimeout(function(){i()},40)}),Xs.length?$(window).scroll(function(){Es=o(),n()}):$(window).scroll(function(){l()}),i()}var Ys,Zs,_s=$(".js-remover-tri"),se=".js-remover",ee=400;_s.on("click",function(){Ys=$(this).parents(se),parentNameUl=Ys.get(0).tagName,"UL"===parentNameUl&&(Zs=$(this).parents("li"),Zs.addClass("is-remove"),Ys.find(".is-remove").hide(ee))});var te=$(".js-numCounter");if(te.length){var ae=0,oe=2e3;r()}var Ys,ie=$(".js-state-current"),ne=$(".js-state-current > a"),le="is-current";ie.length&&$(ne).on("click",function(){Ys=$(this).parent(ie),Ys.find("."+le).removeClass(le),$(this).addClass(le)});var re=0;$(".js-aside-main-open").on("click",function(){re++,1===re&&($(".js-aside-main").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-aside-main)").on("click",function(){$(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),re=0,$(this).off()})),2===re&&($(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),re=0)});var ce=0;$(".js-nav-slide-open").on("click",function(){ce++,1===ce&&($(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-nav-slide)").on("click",function(){$(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),ce=0,$(this).off()})),2===ce&&($(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),ce=0)})});