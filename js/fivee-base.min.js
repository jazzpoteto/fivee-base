/* ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee-base
 * ver.1.5.0 / 2016.3.31
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ */
$(function(){function s(){var s=0,e=0;return c.each(function(){s+=$(this).outerHeight(!0),e++}),s}function e(s,e){return h=$(s).attr("class"),h=h.split(" "),h=$.grep(h,function(s,t){return s.indexOf(e)>=0}),f="."+h}function t(s){V.push(s),D!==!1&&clearTimeout(D),D=setTimeout(function(){var s=V[V.length-1];return"off"!==s?!1:(M.hide(300,function(){$(this).removeClass("is-show"),O.css({top:0,left:0,marginTop:""})}),void(V=[]))},500)}function a(s){var e=s.offset(),t=$(window).outerWidth(!0),a=e.top,o=e.left,i=s.find(".js-tooltip-key").text();N.text("").text(i),M.show();var n=N.outerWidth(!0),l=N.outerHeight(!0),r=n+o,c=r-t;P.css("margin-left",""),r>t&&(o-=c,P.css("margin-left",c)),O.css({top:a-l-7,left:o,marginTop:-fixContentsRemoveVal+"px"}),M.addClass("is-show")}function o(){return Ps=Fs.offset(),Us=$(document).outerHeight()-Ps.top}function i(){zs=$(document).outerHeight(),As=$(window).outerHeight(),Is=zs-As,Os=Is-$(window).scrollTop(),Fs.length?(Us=o(),n()):l()}function n(){Os=Is-$(window).scrollTop(),Us>=Os&&(Os=Us),Es.stop().animate({bottom:Os},Bs)}function l(){Os=Is-$(window).scrollTop(),Es.stop().animate({bottom:Os},Bs)}function r(){Ys.each(function(){var s=$(this).text();s>Zs&&$(this).animate({count:s},{duration:_s,easing:"linear",progress:function(){$(this).text(Math.ceil(this.count))},queue:!1})})}var c=$(".js-posi-remove");c.length?fixContentsRemoveVal=s():fixContentsRemoveVal=0;var d,u,f,h;$(window).scroll(function(){var s=$(document).scrollTop(),e=$(".js-scrolltop");s>600?e.fadeIn(600):e.fadeOut(400)}),$("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=$(this.hash);s=s.length?s:$("[name="+this.hash.slice(1)+"]");var e=s.offset();if(s.length)return $("html,body").animate({scrollTop:e.top-fixContentsRemoveVal},1e3),!1}}),$("#js-pageTop").on("click",function(){$("html,body").animate({scrollTop:0},1e3)});var p=$("#js-eql");if(p.length){var m=$(".js-eql-width"),v=$(".js-eql-height");if(m.length){var j=[];if(m){$(m).each(function(s){var e=$(m).eq(s).outerWidth(!0);j.push(e)});var C=Math.max.apply(null,j);$(m).width(C)}}if(v.length){var g=[];if(v){$(v).each(function(s){var e=$(v).eq(s).outerHeight(!0);g.push(e)});var C=Math.max.apply(null,g);$(v).height(C)}}}$(".js-nav-main a").on("click",function(){var s=$(this).parents(".js-nav-main"),t=$(this).parent("li"),a=t.attr("class");if(a){var o=a.match("parent");if(o){d=t,u="js-nav-main-parent",f=e(d,u),f=f.replace("parent","child");var i=$(this).find(".js-ic-arrow").children(),n=$(this).find(".js-ic-folder").children(),l=$(this).find(".js-ic-folder-arrow").children(),r=i.attr("class"),c=n.attr("class"),h=l.attr("class"),p=s.find(f).is(":visible");p?(s.find(f).hide(100),t.removeClass("is-open"),r&&(r=r.replace("up","down"),$(i).removeClass().addClass(r)),c&&(c=c.replace("folder-open","folder"),$(n).removeClass().addClass(c)),h&&(h=h.replace("down","right"),$(l).removeClass().addClass(h))):(s.find(f).show(300),t.addClass("is-open"),r&&(r=r.replace("down","up"),$(i).removeClass().addClass(r)),c&&(c=c.replace("folder","folder-open"),$(n).removeClass().addClass(c)),h&&(h=h.replace("right","down"),$(l).removeClass().addClass(h)))}}else s.find("li").removeClass("is-current"),t.addClass("is-current")});var w=$(".js-nav-main");if(w.length){var k=$(".js-nav-main .is-current").parents("ul");k.parent("li").addClass("is-open");var b=k.attr("class");if(b){var x=b.match("child");if(x){k.show(100);var T=k.parents("li"),y=T.find(".js-ic-arrow").children(),q=T.find(".js-ic-folder").children(),S=T.find(".js-ic-folder-arrow").children(),W=y.attr("class"),H=q.attr("class"),R=S.attr("class");W&&(W=W.replace("down","up"),$(y).removeClass().addClass(W)),H&&(H=H.replace("folder","folder-open"),$(q).removeClass().addClass(H)),R&&(R=R.replace("right","down"),$(S).removeClass().addClass(R))}}}var L="off",V=[],D=!1,M=$(".js-tooltip"),N=$(".js-tooltip-wrap"),O=$(".js-tooltip > .st-body"),P=$(".js-balloon");$(".js-tooltip-hover").on({mouseenter:function(){var s=$(this);a(s),L="on",t(L)},mouseleave:function(){L="off",t(L)}}),M.on({mouseenter:function(){L="on",t(L)},mouseleave:function(){L="off",t(L)}});var U,z,A,I,B,E,F,G,J,K,Q,X=0,Y=".js-popup-open",Z=".js-popup-close",_=".js-popup-open, .js-popup, .js-bookmark-open",ss=".js-popup",es=".js-popup-arrow",ts="is-on",as="is-fixed",os=0,is=7,ns=20;$(Y).on("click",function(){U=$(this),U.hasClass(ts)?$(ss).hide(function(){$(Y+"."+ts).removeClass(ts)}):($(Y+"."+ts).removeClass(ts),U.addClass(ts),u="js-tpl",Q=U.hasClass(as),ls.popupPosi(U,u))});var ls={popupPosi:function(s,t){z=$(window).outerWidth(!0),A=s.offset(),I=A.top,I=I+s.outerHeight(!0)+7,B=s.outerWidth(!0),E=A.left,d=s,t=t,f=e(d,t),ls.popupShow(I,E,f)},popupShow:function(s,e,t){$(ss+" > .st-body").removeClass("is-current"),$(ss+" "+t).addClass("is-current"),$(ss).css({opacity:"0",display:"block"}),J=$(ss+" "+t).outerWidth(!0),K=e+J,G=B/2,B>J&&(G=ns),K>=z&&(F=K-z+is,e-=F,G+=F),is>e&&(e=is),ns>G&&(G=ns),Q?(s-=$(window).scrollTop(),e+=$(window).scrollLeft(),$(ss+" "+t).css({position:"",top:" ",left:"",right:"",marginTop:""}).css({position:"fixed",top:s,bottom:"auto",right:"auto",left:e})):$(ss+" "+t).css({position:"",top:"",left:"",right:"",marginTop:""}).css({top:s,bottom:"auto",right:"auto",left:e,marginTop:-fixContentsRemoveVal+"px"}),$(es).css("left","").css("left",G),$(ss).fadeTo(os,1,function(){X++,1===X&&$(document).on("click",function(s){var e=$(s.target).closest(_).length;return e||($(ss).hide(),$(Y+"."+ts).removeClass(ts),X=0,$(this).off()),!1})})}};$(Z).on("click",function(){$(ss).hide(function(){$(Y+"."+ts).removeClass(ts)})});var rs,U,cs=$(".js-bookmark-open"),ds=$(".js-bookmark-delete");cs.on("click",function(){rs=$(this).children("i"),U=$(this),U.hasClass(ts)&&(u="js-tpl",ls.popupPosi(U,u)),rs.removeClass("fa-star-o").addClass("fa-star"),U.addClass(ts),ds.on("click",function(){rs.removeClass("fa-star").addClass("fa-star-o"),U.removeClass(ts)})}),$(".js-modal-open").on("click",function(){d=$(this),u="js-tpl",f=e(d,u);var s=$(".js-modal"),t=$(".js-modal "+f);$(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),t.addClass("is-current");var a=t.outerWidth()/2;t.css("margin-left",-a),s.show(),$(".js-cartain").show(),$(".js-modal-close, .js-cartain").on("click",function(){s.hide(),$(".js-cartain").hide()})}),$(".js-message-open").on("click",function(){d=$(this),u="js-tpl",f=e(d,u),$(".js-message > .st-body").removeClass("is-open"),$(".js-message > "+f).addClass("is-open")}),$(".js-message-close").on("click",function(){$(".js-message > .st-body").removeClass("is-open")}),$(".js-toast-open").on("click",function(){d=$(this),u="js-tpl",f=e(d,u),clearTimeout(t);var s=$(".js-toast > "+f).css("margin-left","").show().outerWidth(!0)/2;$(".js-toast > "+f).css("margin-left",-s);var t;t=setTimeout(function(){$(".js-toast > "+f).fadeOut(700)},4e3),$(".js-toast-close").on("click",function(){$(".js-toast > "+f).hide(),clearTimeout(t)})}),$(".js-loader-on").on("click",function(){$(".js-loader").show()}),$(".js-loader-off").on("click",function(){$(".js-loader").hide()}),$(".js-loader-abs-on").on("click",function(){var s=$(this).offset(),e=s.top,t=s.left;$(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:e,left:t}),$(".js-loader-abs").show()}),$(".js-loader-abs-off").on("click",function(){$(".js-loader-abs").hide()}),$(".js-collapse").on("click",function(){d=$(this),u="js-collapse-parent",f=e(d,u),f=f.replace("js-collapse-parent","js-collapse-child"),$(f).slideToggle();var s=$(this).children(),t=s.attr("class");if(t.match("down"))t=t.replace("down","up"),s.removeClass().addClass(t);else{if(!t.match("up"))return!1;t=t.replace("up","down"),s.removeClass().addClass(t)}}),$(".js-collapse-slide").on("click",function(){d=$(this),u="js-collapse-slide-parent",f=e(d,u),f=f.replace("js-collapse-slide-parent","js-collapse-slide-child"),$(f).stop().animate({width:"toggle"},300);var s=$(this).children(),t=s.attr("class");if(t.match("left"))t=t.replace("left","right"),s.removeClass().addClass(t);else{if(!t.match("right"))return!1;t=t.replace("right","left"),s.removeClass().addClass(t)}}),$(".js-tab-select > li").on("click",function(){var s=$(this).parents(".js-tab"),e=$(s).find(".js-tab-select").children("li"),t=$(s).find(".js-tab-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")}),$(".js-tab-scroll-select > li").on("click",function(){var s=$(this).parents(".js-tab-scroll"),e=$(s).find(".js-tab-scroll-select").children("li"),t=$(s).find(".js-tab-scroll-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")});var us=$(".js-tab-scroll"),fs=us.length,hs=$(".js-tab-scroll-select"),ps=$(".js-tab-scroll-select > li:visible"),$s="is-disabled",ms=$(".js-tab-arrow-right"),vs=$(".js-tab-arrow-right"),js=$(".js-tab-arrow-left"),Cs=$(".js-tab-arrow-left"),gs=400,ws=74,ks=!1,bs=!1,xs=!1,Ts={tabSetStart:function(){var s=us.outerWidth(!0),e=s-ws;hs.width(Ts.tabWidthSum());var t=Ts.tabWidthSum();return t>e?(ys=t-e,vs.removeClass($s),ys):(vs.addClass($s),Cs.addClass($s),ys=0)},tabSetReset:function(){hs.animate({left:0},0,function(){ys=Ts.tabSetStart(),ks=!0,Cs.addClass($s)})},tabWidthSum:function(){var s=ps.length,e=0,t=0;return ps.each(function(){e+=$(this).outerWidth(!0),t++,t===s&&(e+=7)}),e}};if(fs){var ys=Ts.tabSetStart(),qs=!1;$(window).resize(function(){qs||clearTimeout(qs),qs=setTimeout(function(){Ts.tabSetReset()},40)}),ms.on("click",function(){if(bs)return!1;bs=!0;var s=-ys,e=hs.position();return e=e.left,e===s?(bs=!1,!1):(Cs.removeClass($s),e-=gs,ks===!0&&(e=-gs,ks=!1),s>e&&(moveDiff=e-s,e-=moveDiff),void hs.animate({left:e},400,function(){bs=!1,e===s&&vs.addClass($s)}))}),js.on("click",function(){if(xs)return!1;xs=!0;var s=0,e=hs.position();return e=e.left,e===s?(xs=!1,!1):(vs.removeClass($s),e+=gs,ks===!0&&(e=gs,ks=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void hs.animate({left:e},400,function(){xs=!1,e===s&&Cs.addClass($s)}))})}$(".js-select-tr tr").on("click",function(){$(this).toggleClass("is-select")}),$(".js-col a").on("click",function(){var s=$(this).parents("li").index();$(".js-col-on colgroup col").removeClass("is-focus"),$(".js-col-on colgroup col").eq(s).addClass("is-focus")}),$(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var s="js-sameclass-num",t=$(this).attr("class");t&&t.match(s)&&(d=$(this),u=s,e(d,u),$(f).addClass("is-focus"))},mouseleave:function(){$(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),$(".js-check input").on("change",function(){var s=$(this).attr("class");if(s){var t=s.match("parent"),a=s.match("child");if(t){var o=$(this),i="js-check-parent-num",n=e(o,i);n=n.replace("parent","child");var l=$(this).prop("checked");l?$(n).prop("checked",!0):$(n).prop("checked",!1),Ss.trHightLight(n)}if(a){var o=$(this),i="js-check-child-num",n=e(o,i);Ss.trHightLight(n)}}});var Ss={trHightLight:function(s){$("input"+s).parents("tr").removeClass("is-highlight"),$("input"+s+":checked").parents("tr").addClass("is-highlight")}},Ws=[],Hs=[];$(".js-html-show").on("click",function(){d=$(this),u="js-example-num",f=e(d,u);var s="../doc/"+f.replace(".js-example-num","")+".txt",t=f.slice(0,23).replace(".js-example-num",".js-example-tag-num"),a=$.inArray(f,Ws),o=Ws[Ws.length-1],i=Hs[Hs.length-1];$.ajax({url:s,dataType:"text",success:function(s){var e=s.replace(/\r\n/g,"\n");-1===a?($(t+" textarea").text("").text(e),$(t).show(300),Ws=[],Ws.push(f)):f!==o?($(t+" textarea").text("").text(e),Ws.push(f)):($(t).hide(300),Ws=[]),t!==i&&($(i).hide(300),Hs=[],Hs.push(t))}})}),$(".js-nav-block a").on("click",function(){var s=$(this).parents(".js-nav-block");d=s,u="js-nav-block-select";var t=e(d,u);t=t.replace("select","content");var a=$(this).parent("li");s.find("li").removeClass("is-current"),a.addClass("is-current");var o=a.attr("class");if(o){var i=o.match("parent");i&&(d=a,u="js-nav-block-parent",f=e(d,u),f=f.replace("parent","child"),$(t).find("ul:eq(0)").children("li").hide(),$(t).find(f).fadeToggle())}});var Rs,Ls,Vs,Ds=".js-pagination",Ms=Ds+" li";$(Ms+" a").on("click",function(){Rs=$(this).parents("li").hasClass("js-notouch"),Rs||($(Ms).removeClass("is-current"),Ls=$(this).parent("li"),Vs=Ls.index(),$(Ds).each(function(){$(this).find("li").eq(Vs).addClass("is-current")}))});var Ns=$("#js-promo-footer");if(Ns.length){var Os,Ps,Us,zs,As,Is,qs,Us,Bs=300,Es=$("#js-promo-footer > .st-body"),Fs=$(".js-page-footer");qs=!1,$(window).resize(function(){qs||clearTimeout(qs),qs=setTimeout(function(){i()},40)}),Fs.length?$(window).scroll(function(){Us=o(),n()}):$(window).scroll(function(){l()}),i()}var Gs,Js,Ks=$(".js-remover-tri"),Qs=".js-remover",Xs=400;Ks.on("click",function(){Gs=$(this).parents(Qs),parentNameUl=Gs.get(0).tagName,"UL"===parentNameUl&&(Js=$(this).parents("li"),Js.addClass("is-remove"),Gs.find(".is-remove").hide(Xs))});var Ys=$(".js-numCounter");if(Ys.length){var Zs=0,_s=2e3;r()}var Gs,se=$(".js-state-current"),ee=$(".js-state-current > a"),te="is-current";se.length&&$(ee).on("click",function(){Gs=$(this).parent(se),Gs.find("."+te).removeClass(te),$(this).addClass(te)});var ae=0;$(".js-aside-main-open").on("click",function(){ae++,1===ae&&($(".js-aside-main").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-aside-main)").on("click",function(){$(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),ae=0,$(this).off()})),2===ae&&($(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),ae=0)});var oe=0;$(".js-nav-slide-open").on("click",function(){oe++,1===oe&&($(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-nav-slide)").on("click",function(){$(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),oe=0,$(this).off()})),2===oe&&($(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),oe=0)})});