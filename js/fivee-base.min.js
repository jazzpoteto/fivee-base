/* ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
 *
 * Fivee base
 * version 1.1.5 / 2016 2 15
 * http://plain-web.com/fivee-base/apps/
 * Released under MIT license. Copyright 2016 Yusuke Maruyama.
 *
 * ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ */
$(function(){function s(){var s=0,e=0;return i.each(function(){s+=$(this).outerHeight(!0),e++}),s}function e(s,e){return c=$(s).attr("class"),c=c.split(" "),c=$.grep(c,function(s,t){return s.indexOf(e)>=0}),r="."+c}function t(s){S.push(s),W!==!1&&clearTimeout(W),W=setTimeout(function(){var s=S[S.length-1];return"off"!==s?!1:(H.hide(300,function(){$(this).removeClass("is-show"),P.css({top:0,left:0})}),void(S=[]))},500)}function a(s){var e=s.offset(),t=$(window).outerWidth(!0),a=e.top,o=e.left,i=s.find(".js-tooltip-key").text();O.text("").text(i),H.show();var n=O.outerWidth(!0),l=O.outerHeight(!0),r=n+o,c=r-t;R.css("margin-left",""),r>t&&(o-=c,R.css("margin-left",c)),P.css({top:a-l-7,left:o}),H.addClass("is-show")}function o(){$(".js-popup").show(100,function(){L="popupOpen",z.push(L)}),M.on("click",function(){V=z[z.length-1],"popupOpen"===V&&($(".js-popup").hide(100),z=["off"],$(this).off())})}$(window).scroll(function(){var s=$(document).scrollTop(),e=$(".js-scrolltop");s>600?e.fadeIn(600):e.fadeOut(400)});var i=$(".js-pageTop-remove");i.length?pageTopRemoveVal=s():pageTopRemoveVal=0,$("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=$(this.hash);s=s.length?s:$("[name="+this.hash.slice(1)+"]");var e=s.offset();if(s.length)return $("html,body").animate({scrollTop:e.top-pageTopRemoveVal},1e3),!1}}),$("#js-pageTop").on("click",function(){$("html,body").animate({scrollTop:0},1e3)});var n,l,r,c,p=$("#js-eql");if(p.length){var d=$(".js-eql-width"),f=$(".js-eql-height");if(d.length){var u=[];if(d){$(d).each(function(s){var e=$(d).eq(s).outerWidth(!0);u.push(e)});var h=Math.max.apply(null,u);$(d).width(h)}}if(f.length){var v=[];if(f){$(f).each(function(s){var e=$(f).eq(s).outerHeight(!0);v.push(e)});var h=Math.max.apply(null,v);$(f).height(h)}}}$(".js-nav-main a").on("click",function(){var s=$(this).parents(".js-nav-main"),t=$(this).parent("li"),a=t.attr("class");if(a){var o=a.match("parent");if(o){n=t,l="js-nav-main-parent",r=e(n,l),r=r.replace("parent","child");var i=$(this).find(".js-ic-arrow").children(),c=$(this).find(".js-ic-folder").children(),p=$(this).find(".js-ic-folder-arrow").children(),d=i.attr("class"),f=c.attr("class"),u=p.attr("class"),h=s.find(r).is(":visible");h?(s.find(r).hide(100),d&&(d=d.replace("up","down"),$(i).removeClass().addClass(d)),f&&(f=f.replace("folder-open","folder"),$(c).removeClass().addClass(f)),u&&(u=u.replace("down","right"),$(p).removeClass().addClass(u))):(s.find(r).show(300),d&&(d=d.replace("down","up"),$(i).removeClass().addClass(d)),f&&(f=f.replace("folder","folder-open"),$(c).removeClass().addClass(f)),u&&(u=u.replace("right","down"),$(p).removeClass().addClass(u)))}}else s.find("li").removeClass("is-current"),t.addClass("is-current")});var m=$(".js-nav-main .is-current").parents("ul"),j=m.attr("class");if(j){var C=j.match("child");if(C){m.show(100);var g=m.parents("li"),w=g.find(".js-ic-arrow").children(),b=g.find(".js-ic-folder").children(),k=g.find(".js-ic-folder-arrow").children(),x=w.attr("class"),y=b.attr("class"),T=k.attr("class");x&&(x=x.replace("down","up"),$(w).removeClass().addClass(x)),y&&(y=y.replace("folder","folder-open"),$(b).removeClass().addClass(y)),T&&(T=T.replace("right","down"),$(k).removeClass().addClass(T))}}var q="off",S=[],W=!1,H=$(".js-tooltip"),O=$(".js-tooltip-wrap"),P=$(".js-tooltip > .st-body"),R=$(".js-balloon");$(".js-tooltip-hover").on({mouseenter:function(){var s=$(this);a(s),q="on",t(q)},mouseleave:function(){q="off",t(q)}}),H.on({mouseenter:function(){q="on",t(q)},mouseleave:function(){q="off",t(q)}});var D=0;$(".js-bookmark-open").on("click",function(){var s=$(this).children("i");if(D++,1===D&&s.removeClass("fa-star-o").addClass("fa-star"),2===D){s.removeClass("fa-star").addClass("fa-star-o");var e=$(this);l="js-tpl",A.popupPosi(e,l),D=0}});var L,V,M=$("body"),z=["off"];$(".js-popup-open").on("click",function(){if(V=z[z.length-1],"off"===V){var s=$(this);l="js-tpl",A.popupPosi(s,l)}});var A={popupPosi:function(s,t){var a=$(window).outerWidth(!0),o=s.offset(),i=o.top;i=i+s.outerHeight(!0)+7;var l=s.outerWidth(!0),c=a-o.left-l;n=s,t=t,r=e(n,t),A.popupShow(i,c,r)},popupShow:function(s,e,t){$(".js-popup > .st-body").removeClass("is-current"),$(".js-popup "+t).addClass("is-current");var a=$(".js-popup "+t).hasClass("js-posi-fix");a?(s-=$(window).scrollTop(),e+=$(window).scrollLeft(),$(".js-popup "+t).css({position:"",top:"",left:"",right:""}).css({position:"fixed",top:s,bottom:"auto",right:e,left:"auto"})):$(".js-popup "+t).css({position:"",top:"",left:"",right:""}).css({top:s,bottom:"auto",right:e,left:"auto"}),o()}};$(".js-popup-inset-open").on("click",function(){if(V=z[z.length-1],"off"===V){var s=$(this);l="js-tpl",I.popupPosi(s,l)}});var I={popupPosi:function(s,t){var a=s.offset(),o=a.top;o+=s.outerHeight(!0),n=s,t=t,r=e(n,t),I.popupShow(o,r)},popupShow:function(s,e){$(".js-popup > .st-body").removeClass("is-current"),$(".js-popup "+e).addClass("is-current");var t=$(".js-popup "+e).hasClass("js-posi-fix");t?(s-=$(window).scrollTop(),$(".js-popup "+e).css({position:"",top:"",left:"",right:""}).css({position:"fixed",top:s,bottom:"auto",right:10,left:10})):$(".js-popup "+e).css({position:"",top:"",left:"",right:""}).css({position:"fixed",top:s,bottom:"auto",right:10,left:10}),o()}};$(".js-modal-open").on("click",function(){n=$(this),l="js-tpl",r=e(n,l);var s=$(".js-modal"),t=$(".js-modal "+r);$(".js-modal > .st-body").removeClass("is-current").css("margin-left",""),t.addClass("is-current");var a=t.outerWidth()/2;t.css("margin-left",-a),s.show(),$(".js-cartain").show(),$(".js-modal-close, .js-cartain").on("click",function(){s.hide(),$(".js-cartain").hide()})}),$(".js-message-open").on("click",function(){n=$(this),l="js-tpl",r=e(n,l),$(".js-message > .st-body").removeClass("is-open"),$(".js-message > "+r).addClass("is-open")}),$(".js-message-close").on("click",function(){$(".js-message > .st-body").removeClass("is-open")}),$(".js-toast-open").on("click",function(){n=$(this),l="js-tpl",r=e(n,l),clearTimeout(t);var s=$(".js-toast > "+r).css("margin-left","").show().outerWidth(!0)/2;$(".js-toast > "+r).css("margin-left",-s);var t;t=setTimeout(function(){$(".js-toast > "+r).fadeOut(700)},4e3),$(".js-toast-close").on("click",function(){$(".js-toast > "+r).hide(),clearTimeout(t)})}),$(".js-loader-on").on("click",function(){$(".js-loader").show()}),$(".js-loader-off").on("click",function(){$(".js-loader").hide()}),$(".js-loader-abs-on").on("click",function(){var s=$(this).offset(),e=s.top,t=s.left;$(".js-loader-abs > .st-body").css({top:"",left:""}).css({top:e,left:t}),$(".js-loader-abs").show()}),$(".js-loader-abs-off").on("click",function(){$(".js-loader-abs").hide()}),$(".js-collapse").on("click",function(){n=$(this),l="js-collapse-parent",r=e(n,l),r=r.replace("js-collapse-parent","js-collapse-child"),$(r).slideToggle();var s=$(this).children(),t=s.attr("class");if(t.match("down"))t=t.replace("down","up"),s.removeClass().addClass(t);else{if(!t.match("up"))return!1;t=t.replace("up","down"),s.removeClass().addClass(t)}}),$(".js-collapse-slide").on("click",function(){n=$(this),l="js-collapse-slide-parent",r=e(n,l),r=r.replace("js-collapse-slide-parent","js-collapse-slide-child"),$(r).stop().animate({width:"toggle"},300);var s=$(this).children(),t=s.attr("class");if(t.match("left"))t=t.replace("left","right"),s.removeClass().addClass(t);else{if(!t.match("right"))return!1;t=t.replace("right","left"),s.removeClass().addClass(t)}}),$(".js-tab-select > li").on("click",function(){var s=$(this).parents(".js-tab"),e=$(s).find(".js-tab-select").children("li"),t=$(s).find(".js-tab-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")}),$(".js-tab-scroll-select > li").on("click",function(){var s=$(this).parents(".js-tab-scroll"),e=$(s).find(".js-tab-scroll-select").children("li"),t=$(s).find(".js-tab-scroll-content").children("li");e.removeClass("is-current"),$(this).addClass("is-current");var a=$(this).index();t.removeClass("is-current"),t.eq(a).addClass("is-current")});var B=$(".js-tab-scroll"),E=B.length,F=$(".js-tab-scroll-select"),G=$(".js-tab-scroll-select > li:visible"),J="is-disable",K=$(".js-tab-arrow-right"),N=$(".js-tab-arrow-right"),Q=$(".js-tab-arrow-left"),U=$(".js-tab-arrow-left"),X=400,Y=74,Z=!1,_=!1,ss=!1,es={tabSetStart:function(){var s=B.outerWidth(!0),e=s-Y;F.width(es.tabWidthSum());var t=es.tabWidthSum();return t>e?(ts=t-e,N.removeClass(J),ts):(N.addClass(J),U.addClass(J),ts=0)},tabSetReset:function(){F.animate({left:0},0,function(){ts=es.tabSetStart(),Z=!0,U.addClass(J)})},tabWidthSum:function(){var s=G.length,e=0,t=0;return G.each(function(){e+=$(this).outerWidth(!0),t++,t===s&&(e+=7)}),e}};if(E){var ts=es.tabSetStart(),as=!1;$(window).resize(function(){as||clearTimeout(as),as=setTimeout(function(){es.tabSetReset()},40)}),K.on("click",function(){if(_)return!1;_=!0;var s=-ts,e=F.position();return e=e.left,e===s?(_=!1,!1):(U.removeClass(J),e-=X,Z===!0&&(e=-X,Z=!1),s>e&&(moveDiff=e-s,e-=moveDiff),void F.animate({left:e},400,function(){_=!1,e===s&&N.addClass(J)}))}),Q.on("click",function(){if(ss)return!1;ss=!0;var s=0,e=F.position();return e=e.left,e===s?(ss=!1,!1):(N.removeClass(J),e+=X,Z===!0&&(e=X,Z=!1),e>s&&(moveDiff=e-s,e-=moveDiff),void F.animate({left:e},400,function(){ss=!1,e===s&&U.addClass(J)}))})}$(".js-select-tr tr").on("click",function(){$(this).toggleClass("is-select")}),$(".js-col a").on("click",function(){var s=$(this).parents("li").index();$(".js-col-on colgroup col").removeClass("is-focus"),$(".js-col-on colgroup col").eq(s).addClass("is-focus")}),$(".js-sameclass td, .js-sameclass th").on({mouseenter:function(){var s="js-sameclass-num",t=$(this).attr("class");t&&t.match(s)&&(n=$(this),l=s,e(n,l),$(r).addClass("is-focus"))},mouseleave:function(){$(this).parents(".js-sameclass").find(".is-focus").removeClass("is-focus")}}),$(".js-check input").on("change",function(){var s=$(this).attr("class");if(s){var t=s.match("parent"),a=s.match("child");if(t){var o=$(this),i="js-check-parent-num",n=e(o,i);n=n.replace("parent","child");var l=$(this).prop("checked");l?$(n).prop("checked",!0):$(n).prop("checked",!1),os.trHightLight(n)}if(a){var o=$(this),i="js-check-child-num",n=e(o,i);os.trHightLight(n)}}});var os={trHightLight:function(s){$("input"+s).parents("tr").removeClass("is-highlight"),$("input"+s+":checked").parents("tr").addClass("is-highlight")}},is=[],ns=[];$(".js-html-show").on("click",function(){n=$(this),l="js-example-num",r=e(n,l);var s="../doc/"+r.replace(".js-example-num","")+".txt",t=r.slice(0,23).replace(".js-example-num",".js-example-tag-num"),a=$.inArray(r,is),o=is[is.length-1],i=ns[ns.length-1];$.ajax({url:s,dataType:"text",success:function(s){var e=s.replace(/\r\n/g,"\n");-1===a?($(t+" textarea").text("").text(e),$(t).show(300),is=[],is.push(r)):r!==o?($(t+" textarea").text("").text(e),is.push(r)):($(t).hide(300),is=[]),t!==i&&($(i).hide(300),ns=[],ns.push(t))}})}),$(".js-nav-block a").on("click",function(){var s=$(this).parents(".js-nav-block");n=s,l="js-nav-block-select";var t=e(n,l);t=t.replace("select","content");var a=$(this).parent("li");s.find("li").removeClass("is-current"),a.addClass("is-current");var o=a.attr("class");if(o){var i=o.match("parent");i&&(n=a,l="js-nav-block-parent",r=e(n,l),r=r.replace("parent","child"),$(t).find("ul:eq(0)").children("li").hide(),$(t).find(r).fadeToggle())}}),$(".js-pagination li a").on("click",function(){var s=$(this).parents("li").hasClass("js-notouch");s||($(".js-pagination li").removeClass("is-current"),$(this).parent("li").addClass("is-current"))});var ls=0;$(".js-aside-main-open").on("click",function(){ls++,1===ls&&($(".js-aside-main").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-aside-main)").on("click",function(){$(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),ls=0,$(this).off()})),2===ls&&($(".js-aside-main").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),ls=0)});var rs=0;$(".js-nav-slide-open").on("click",function(){rs++,1===rs&&($(".js-nav-slide").addClass("is-transition").delay(500).addClass("is-open"),$(".js-page-contents:not(.js-nav-slide)").on("click",function(){$(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),rs=0,$(this).off()})),2===rs&&($(".js-nav-slide").removeClass("is-open").delay(1e3).queue(function(){$(this).removeClass("is-transition").dequeue()}),rs=0)})});